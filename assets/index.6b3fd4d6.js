var G=Object.defineProperty,J=Object.defineProperties;var Q=Object.getOwnPropertyDescriptors;var T=Object.getOwnPropertySymbols;var X=Object.prototype.hasOwnProperty,Y=Object.prototype.propertyIsEnumerable;var V=(e,t,n)=>t in e?G(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,A=(e,t)=>{for(var n in t||(t={}))X.call(t,n)&&V(e,n,t[n]);if(T)for(var n of T(t))Y.call(t,n)&&V(e,n,t[n]);return e},B=(e,t)=>J(e,Q(t));import{h as Z,r as o,K as q,o as ee,a as te,i as z,e as f,y as u,af as d,A as g,D as _,g as a,E as F,u as M,aj as ne,O as oe,b as S,p as ae,f as ie}from"./vendor.0ec422ce.js";import{_ as ce,f as se,m as le,e as re}from"./index.06538ee4.js";const E=e=>(ae("data-v-63cdc35f"),e=e(),ie(),e),me=["src"],ue={class:"quote-left"},de=E(()=>a("svg",{viewBox:"0 0 1024 1024"},[a("path",{d:"M928 512h-160v-128c0-70.6 57.4-128 128-128h16c26.6 0 48-21.4 48-48V112c0-26.6-21.4-48-48-48h-16c-176.8 0-320 143.2-320 320v480c0 53 43 96 96 96h256c53 0 96-43 96-96V608c0-53-43-96-96-96z m-576 0H192v-128c0-70.6 57.4-128 128-128h16c26.6 0 48-21.4 48-48V112c0-26.6-21.4-48-48-48h-16C143.2 64 0 207.2 0 384v480c0 53 43 96 96 96h256c53 0 96-43 96-96V608c0-53-43-96-96-96z"})],-1)),ge=[de],ve={class:"quote-right"},he=E(()=>a("svg",{viewBox:"0 0 1024 1024"},[a("path",{d:"M928 64H672c-53 0-96 43-96 96v256c0 53 43 96 96 96h160v128c0 70.6-57.4 128-128 128h-16c-26.6 0-48 21.4-48 48v96c0 26.6 21.4 48 48 48h16c176.8 0 320-143.2 320-320V160c0-53-43-96-96-96z m-576 0H96C43 64 0 107 0 160v256c0 53 43 96 96 96h160v128c0 70.6-57.4 128-128 128h-16c-26.6 0-48 21.4-48 48v96c0 26.6 21.4 48 48 48h16c176.8 0 320-143.2 320-320V160c0-53-43-96-96-96z"})],-1)),pe=[he],fe=Z({props:{componentSetting:{type:Object,required:!0},element:{type:Object,required:!0}},setup(e){const t=e;ne(c=>({"47a4aeaf":M(j)}));const n=o(),s=o(),l=o(),r=o(""),w=o(""),y=o(""),m=o(""),x=o(""),v=o(""),k=o(!1),h=async()=>{try{const c=await fetch(`${se}/api/movieLines`),{name:C,img:H,img1:I,img2:N,img3:O,img4:$,link:P,quotes:U}=await c.json();r.value=U,w.value=C,y.value=H.replace("s_ratio_poster","m");const D=[I,I,N,O,$].filter(Boolean),K=~~(Math.random()*D.length),p=D[K];window.innerWidth<768?m.value=p.replace("original","w780"):window.innerWidth<1460?m.value=p.replace("original","w1280"):m.value=p,x.value=P,v.value=`
      background-image: radial-gradient(
        ellipse at ${~~(Math.random()*50)+25}% ${~~(Math.random()*50)+25}%,
        rgba(0, 0, 0,.25),
        rgba(0, 04, 0,.75), 
        rgb(0, 0, 0));`,console.log(v.value)}catch{}};let i;const b=()=>{const c=(t.componentSetting.duration||5)*60*1e3;i&&(window.clearInterval(i),i=null),i=window.setInterval(h,c)};q(()=>t.componentSetting.duration,()=>b(),{immediate:!0}),ee(()=>h()),te(()=>i&&window.clearInterval(i));const W=z(()=>le(t.componentSetting.position)),j=z(()=>t.componentSetting.themeColor);q(()=>r.value,()=>{n.value&&n.value.animate&&n.value.animate({opacity:[0,1]},400),s.value&&s.value.animate&&s.value.animate({opacity:[0,1]},400)});const L=()=>{k.value=!0,l.value&&l.value.animate&&l.value.animate({opacity:[0,1]},400)},R=()=>{t.componentSetting.clickActionType===1?(h(),b()):t.componentSetting.clickActionType===2?window.open(x.value):t.componentSetting.clickActionType===3&&re(r.value)&&oe({title:"\u63D0\u793A",type:"success",message:"\u590D\u5236\u6210\u529F"})};return(c,C)=>(S(),f("div",{class:"wrapper",style:g(B(A({fontSize:e.componentSetting.textFontSize+"px",color:e.componentSetting.textColor,textShadow:e.componentSetting.textShadow,padding:e.componentSetting.padding+"px",fontFamily:e.componentSetting.fontFamily},M(W)),{borderRadius:e.element.borderRadius+"px"}))},[e.componentSetting.showPoster?u((S(),f("img",{key:0,class:"bg",ref_key:"movieBg",ref:l,src:e.componentSetting.posterType===2?m.value:y.value,style:g({filter:e.componentSetting.posterFilter}),onLoad:L},null,44,me)),[[d,k.value]]):_("",!0),e.componentSetting.useSpotlight?(S(),f("div",{key:1,class:"bg-effect-box",style:g(v.value)},null,4)):_("",!0),a("blockquote",{class:"blockquote",style:g({background:e.componentSetting.showDecoration?"":"none",maxWidth:e.componentSetting.maxWidth?e.componentSetting.maxWidth+"px":"",cursor:e.componentSetting.clickActionType?"pointer":"default"}),onClick:R},[a("p",{class:"lines",ref_key:"linesText",ref:n},F(r.value),513),u(a("p",{class:"cite",ref_key:"movieText",ref:s},"\u300E "+F(w.value)+" \u300F",513),[[d,e.componentSetting.showCite]]),u(a("div",ue,ge,512),[[d,e.componentSetting.showDecoration]]),u(a("div",ve,pe,512),[[d,e.componentSetting.showDecoration]])],4)],4))}});var xe=ce(fe,[["__scopeId","data-v-63cdc35f"]]);export{xe as default};
