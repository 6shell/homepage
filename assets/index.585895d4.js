var e=Object.defineProperty,t=Object.getOwnPropertySymbols,o=Object.prototype.hasOwnProperty,n=Object.prototype.propertyIsEnumerable,i=(t,o,n)=>o in t?e(t,o,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[o]=n,a=(e,a)=>{for(var r in a||(a={}))o.call(a,r)&&i(e,r,a[r]);if(t)for(var r of t(a))n.call(a,r)&&i(e,r,a[r]);return e};"undefined"!=typeof require&&require;import{m as r,a as s}from"./index.99786fc0.js";import{d as l,b as c,B as d,o as p,w as m,c as g,p as u,e as v,f as y,E as h,L as w,H as f,F as S,j as b,k as x,u as k}from"./element-plus.01c37972.js";var j=l({name:"JueJin",props:{componentSetting:{type:Object,required:!0}},setup(e){const t=c([]),o=c(!1),n=c(!1),i=async()=>{try{o.value=!0,n.value=!1;const i=encodeURIComponent("https://m.weibo.cn/api/container/getIndex?containerid=106003%2526filter_type%253Drealtimehot"),a=await fetch(`${s}/api/transfer?target=${i}`),{ok:r,data:l}=await a.json();if(1!==r)throw new Error("Api server error");{const o=l.cards[0].card_group.slice(0,e.componentSetting.limit).map((e=>({num:e.pic,id:e.desc,title:e.desc,icon:e.icon,link:e.scheme,count:~~(e.desc_extr/1e4)})));t.value=o}}catch(i){n.value=!0,console.error(i)}finally{o.value=!1}};let a;function l(){i(),a&&window.clearInterval(a),a=window.setInterval((()=>{i()}),60*e.componentSetting.duration*1e3)}d((()=>l())),p((()=>window.clearInterval(a))),m((()=>[e.componentSetting.duration,e.componentSetting.limit]),(()=>l()));const u=g((()=>r(e.componentSetting.position)));return{logo:"https://h5.sinaimg.cn/m/weibo-lite/img/pwalogo.417d1674.svg",list:t,positionCSS:u,loading:o,error:n}}});u("data-v-6d825457");const I={class:"weibo"},O={class:"logo"},_=["src"],C=w("div",{class:"logo-text"},"微博热搜",-1),F={key:0,class:"loading"},$={key:1,class:"error"},q={key:2,class:"list"},E={class:"num",style:{width:"24px",height:"24px"}},L=["src"],P={class:"title"},z=["href"],J={key:0,class:"count"},A={class:"icon",style:{width:"24px",height:"24px"}},B=["src"];v(),j.render=function(e,t,o,n,i,r){return y(),h("div",{class:"wrapper",style:f(a({fontSize:e.componentSetting.textFontSize+"px",color:e.componentSetting.textColor,textShadow:e.componentSetting.textShadow,padding:e.componentSetting.padding+"px",fontFamily:e.componentSetting.fontFamily},e.positionCSS))},[w("div",I,[w("div",O,[w("img",{src:e.logo,alt:"Weibo",style:f({filter:`drop-shadow(${e.componentSetting.iconShadow})`})},null,12,_),C]),e.loading?(y(),h("div",F,"Loading...")):e.error?(y(),h("div",$,"Something error!")):(y(),h("div",q,[(y(!0),h(S,null,b(e.list,(t=>(y(),h("div",{class:"list-item",key:t.id},[w("div",E,[t.num?(y(),h("img",{key:0,src:t.num,style:{width:"100%",height:"100%"}},null,8,L)):x("",!0)]),w("div",P,[w("a",{href:t.link,target:"_blank",style:f(!e.$store.state.isLock&&"pointer-events: none")},k(t.title),13,z)]),t.count?(y(),h("div",J,k(t.count)+"w",1)):x("",!0),w("div",A,[t.icon?(y(),h("img",{key:0,src:t.icon,style:{width:"100%",height:"100%"}},null,8,B)):x("",!0)])])))),128))]))])],4)},j.__scopeId="data-v-6d825457";export default j;
