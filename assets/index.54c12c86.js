var v=Object.defineProperty;var r=Object.getOwnPropertySymbols;var g=Object.prototype.hasOwnProperty,y=Object.prototype.propertyIsEnumerable;var l=(e,t,n)=>t in e?v(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,p=(e,t)=>{for(var n in t||(t={}))g.call(t,n)&&l(e,n,t[n]);if(r)for(var n of r(t))y.call(t,n)&&l(e,n,t[n]);return e};import{_ as w,m as h,e as k}from"./index.52a495f8.js";import{h as C,r as m,k as A,K as u,o as x,b as j,i as E,e as I,g as T,E as $,A as d,O as b,d as D}from"./vendor.66f145fe.js";const F=C({name:"Verse",props:{componentSetting:{type:Object,required:!0}},setup(e){const t=m(""),n=m(),c=A();async function s(){try{const a=await fetch("https://v1.jinrishici.com/all.json"),{content:S}=await a.json();t.value=S}catch{}}let o;const i=()=>{const a=(e.componentSetting.duration||5)*60*1e3;o&&(window.clearInterval(o),o=null),o=window.setInterval(s,a)};u(()=>e.componentSetting.duration,()=>i(),{immediate:!0}),x(()=>s()),j(()=>o&&window.clearInterval(o));const f=E(()=>h(e.componentSetting.position));return u(()=>t.value,()=>{n.value&&n.value.animate&&n.value.animate({opacity:[0,1]},400)}),{verse:t,positionCSS:f,verseElement:n,handleClickAction:()=>{e.componentSetting.clickActionType===1?(s(),i()):e.componentSetting.clickActionType===2?window.open(`https://hanyu.baidu.com/s?wd=${encodeURIComponent(t.value)}`):e.componentSetting.clickActionType===3&&k(t.value)&&b({title:"\u63D0\u793A",type:"success",message:"\u590D\u5236\u6210\u529F"})},contextmenu:a=>{c.state.isLock&&a.stopPropagation()}}}});function _(e,t,n,c,s,o){return D(),I("div",{class:"wrapper",ref:"verseElement",style:d(p({fontSize:e.componentSetting.textFontSize+"px",color:e.componentSetting.textColor,textShadow:e.componentSetting.textShadow,padding:e.componentSetting.padding+"px",fontFamily:e.componentSetting.fontFamily},e.positionCSS))},[T("span",{style:d(e.componentSetting.clickActionType?"cursor: pointer":""),onClick:t[0]||(t[0]=(...i)=>e.handleClickAction&&e.handleClickAction(...i)),onContextmenu:t[1]||(t[1]=(...i)=>e.contextmenu&&e.contextmenu(...i))},$(e.verse),37)],4)}var P=w(F,[["render",_],["__scopeId","data-v-1605e1ab"]]);export{P as default};
