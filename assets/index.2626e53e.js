import{m as t,s as e,F as n,G as r,n as o,S as a,A as i}from"./index.4a76986c.js";import"./index.fb3a5752.js";import"./color.556e4bcb.js";const s=t=>{if(!t)return!1;if(Array.isArray(t))return!(t.length>1)&&s(t[0]);const e=t.content;return e?s(e):"text"===t.type},c=t(((t,i)=>{const{ctx:c}=i,l=c.get(e),p=c.get(n),d=c.get(r);return{id:"clipboard",plugin:new o({props:{handlePaste:(t,e)=>{var n,r;const o=null===(r=(n=t.props).editable)||void 0===r?void 0:r.call(n,t.state),{clipboardData:i}=e;if(!o||!i)return!1;const s=i.getData("text/plain");if(i.getData("text/html").length>0)return!1;const c=p(s);if(!c||"string"==typeof c)return!1;const l=t.state.selection.content();return t.dispatch(t.state.tr.replaceSelection(new a(c.content,l.openStart,l.openEnd))),!0},clipboardTextSerializer:t=>{if(s(t.content.toJSON()))return t.content.textBetween(0,t.content.size,"\n\n");const e=l.topNodeType.createAndFill(void 0,t.content);if(!e)return"";return d(e)}}})}})),l=i.create([c()]);export{l as clipboard,c as clipboardPlugin};
