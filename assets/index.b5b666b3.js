var e=Object.defineProperty,t=Object.defineProperties,a=Object.getOwnPropertyDescriptors,o=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,i=Object.prototype.propertyIsEnumerable,c=(t,a,o)=>a in t?e(t,a,{enumerable:!0,configurable:!0,writable:!0,value:o}):t[a]=o,r=(e,t)=>{for(var a in t||(t={}))n.call(t,a)&&c(e,a,t[a]);if(o)for(var a of o(t))i.call(t,a)&&c(e,a,t[a]);return e};import{_ as s,d as l,$ as p,r as v,B as m,G as u,H as d,L as g,k as h,P as w,U as f,n as S,x as y,f as b,v as x,C as O,R as j,N as q,o as z,z as P,A as k}from"./index.5ef841a9.js";const C=e=>(P("data-v-eaf35290"),e=e(),k(),e),V=["src"],I={class:"quote-left"},W=[C((()=>b("svg",{viewBox:"0 0 1024 1024"},[b("path",{d:"M928 512h-160v-128c0-70.6 57.4-128 128-128h16c26.6 0 48-21.4 48-48V112c0-26.6-21.4-48-48-48h-16c-176.8 0-320 143.2-320 320v480c0 53 43 96 96 96h256c53 0 96-43 96-96V608c0-53-43-96-96-96z m-576 0H192v-128c0-70.6 57.4-128 128-128h16c26.6 0 48-21.4 48-48V112c0-26.6-21.4-48-48-48h-16C143.2 64 0 207.2 0 384v480c0 53 43 96 96 96h256c53 0 96-43 96-96V608c0-53-43-96-96-96z"})],-1)))],_={class:"quote-right"},B=[C((()=>b("svg",{viewBox:"0 0 1024 1024"},[b("path",{d:"M928 64H672c-53 0-96 43-96 96v256c0 53 43 96 96 96h160v128c0 70.6-57.4 128-128 128h-16c-26.6 0-48 21.4-48 48v96c0 26.6 21.4 48 48 48h16c176.8 0 320-143.2 320-320V160c0-53-43-96-96-96z m-576 0H96C43 64 0 107 0 160v256c0 53 43 96 96 96h160v128c0 70.6-57.4 128-128 128h-16c-26.6 0-48 21.4-48 48v96c0 26.6 21.4 48 48 48h16c176.8 0 320-143.2 320-320V160c0-53-43-96-96-96z"})],-1)))];var D=s(l({props:{componentSetting:{type:Object,required:!0},element:{type:Object,required:!0}},setup(e){const o=e;p((e=>({fe560d26:O(R)})));const n=v(),i=v(),c=v(),s=v(""),l=v(""),P=v(""),k=v(""),C=v(""),D=v(!1),F=async()=>{try{const e=await fetch(`${j}/api/movieLines`),{name:t,img:a,img1:o,link:n,quotes:i}=await e.json();s.value=i,l.value=t,P.value=a.replace("s_ratio_poster","m"),window.innerWidth<768?k.value=o.replace("original","w780"):window.innerWidth<1460?k.value=o.replace("original","w1280"):k.value=o,C.value=n}catch{}};let H;m((()=>o.componentSetting.duration),(e=>{const t=60*(e||5)*1e3;H&&(window.clearInterval(H),H=null),H=window.setInterval(F,t)}),{immediate:!0}),u((()=>{F()})),d((()=>{H&&window.clearInterval(H)}));const L=g((()=>q(o.componentSetting.position))),R=g((()=>o.componentSetting.themeColor));m((()=>s.value),(()=>{n.value&&n.value.animate&&n.value.animate({opacity:[0,1]},400),i.value&&i.value.animate&&i.value.animate({opacity:[0,1]},400)}));const T=()=>{D.value=!0,c.value&&c.value.animate&&c.value.animate({opacity:[0,1]},400)};return(p,v)=>{return z(),h("div",{class:"wrapper",style:S((m=r({fontSize:e.componentSetting.textFontSize+"px",color:e.componentSetting.textColor,textShadow:e.componentSetting.textShadow,padding:e.componentSetting.padding+"px",fontFamily:e.componentSetting.fontFamily},O(L)),u={borderRadius:e.element.borderRadius+"px"},t(m,a(u))))},[o.componentSetting.showPoster?w((z(),h("img",{key:0,class:"bg",ref:(e,t)=>{t.movieBg=e,c.value=e},src:2===o.componentSetting.posterType?k.value:P.value,style:S({filter:o.componentSetting.posterFilter}),onLoad:T},null,44,V)),[[f,D.value]]):y("",!0),b("blockquote",{class:"blockquote",style:S({background:o.componentSetting.showDecoration?"":"none",maxWidth:o.componentSetting.maxWidth?o.componentSetting.maxWidth+"px":""})},[b("p",{class:"lines",ref:(e,t)=>{t.linesText=e,n.value=e}},x(s.value),513),w(b("p",{class:"cite",ref:(e,t)=>{t.movieText=e,i.value=e}},"『 "+x(l.value)+" 』",513),[[f,o.componentSetting.showCite]]),w(b("div",I,W,512),[[f,o.componentSetting.showDecoration]]),w(b("div",_,B,512),[[f,o.componentSetting.showDecoration]])],4)],4);var m,u}}}),[["__scopeId","data-v-eaf35290"]]);export{D as default};
