var t=Object.defineProperty,o=Object.defineProperties,a=Object.getOwnPropertyDescriptors,e=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable,s=(o,a,e)=>a in o?t(o,a,{enumerable:!0,configurable:!0,writable:!0,value:e}):o[a]=e;import{_ as i,d as f,u as m,r as l,a as c,b as p,c as d,w as u,S as b,e as g,t as y,o as C,f as O,g as v}from"./index.fc50308b.js";import{_ as S}from"./index.732d49dc.js";const D=f({name:"ComponentDialog",components:{StandardForm:S},setup(){const t=m(),i=l(),f=c({formConf:{},formData:{}}),p=l();let d;const u=()=>{i.value.close()};return{dialog:i,open:async t=>{d=t;const o=t.material;f.formData=t.componentSetting?JSON.parse(JSON.stringify(t.componentSetting)):JSON.parse(JSON.stringify(b[o].formData)),f.formConf=g("function"==typeof b[o].formConf?b[o].formConf(f.formData):b[o].formConf),i.value.open()},close:u,state:f,submit:()=>{p.value.validate((i=>{if(!i)return!1;{const i=(m=((t,o)=>{for(var a in o||(o={}))n.call(o,a)&&s(t,a,o[a]);if(e)for(var a of e(o))r.call(o,a)&&s(t,a,o[a]);return t})({},d),l={componentSetting:y(f.formData)},o(m,a(l)));t.commit("editComponent",i),u()}var m,l}))},form:p}}}),w={class:"footer",style:{"text-align":"right",padding:"12px"}};var h=i(D,[["render",function(t,o,a,e,n,r){const s=p("StandardForm"),i=p("animation-dialog");return C(),d(i,{ref:"dialog",customWrapperClass:"backdrop-blur",animationMode:"",title:"组件配置",width:"min(440px, 98vw)",height:"min(520px, 90vh)",customClass:"component-dialog",closeOnClickOutside:!1,listenWindowSizeChange:"",appendToBody:"","animation-in":"flipInY"},{footer:u((()=>[O("div",w,[O("button",{type:"button",class:"btn",onClick:o[0]||(o[0]=(...o)=>t.close&&t.close(...o))},"取消"),O("button",{type:"button",class:"btn btn-primary",onClick:o[1]||(o[1]=(...o)=>t.submit&&t.submit(...o))},"确认")])])),default:u((()=>[v(s,{formData:t.state.formData,formConf:t.state.formConf,ref:"form","label-width":"100px"},null,8,["formData","formConf"])])),_:1},512)}],["__scopeId","data-v-b9aa0fb2"]]);export{h as default};
