import{b as g,j as b,Y as x,z as h,Z as m,_ as P,$ as S}from"./index.ba2bfdd5.js";import"./vendor.66f145fe.js";import"./index.52a495f8.js";import"./color.556e4bcb.js";const l=e=>{if(!e)return!1;if(Array.isArray(e))return e.length>1?!1:l(e[0]);const r=e.content;return r?l(r):e.type==="text"},j=g(()=>({prosePlugins:(e,r)=>{const d=r.get(b);return r.update(x,t=>{var n;return{editable:(n=t.editable)!=null?n:()=>!0}}),[new h({props:{handlePaste:(t,n)=>{var s,a;const c=r.get(m),f=(a=(s=t.props).editable)==null?void 0:a.call(s,t.state),{clipboardData:o}=n;if(!f||!o)return!1;const p=o.getData("text/plain");if(o.getData("text/html").length>0||p.length===0)return!1;const i=c(p);if(!i||typeof i=="string")return!1;const u=t.state.selection.content();return t.dispatch(t.state.tr.replaceSelection(new P(i.content,u.openStart,u.openEnd))),!0},clipboardTextSerializer:t=>{const n=r.get(S);if(l(t.content.toJSON()))return t.content.textBetween(0,t.content.size,`

`);const a=d.topNodeType.createAndFill(void 0,t.content);return a?n(a):""}}})]}})),A=j();export{A as clipboard,j as clipboardPlugin};
