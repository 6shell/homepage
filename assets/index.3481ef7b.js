var t=Object.defineProperty,e=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable,a=(e,n,o)=>n in e?t(e,n,{enumerable:!0,configurable:!0,writable:!0,value:o}):e[n]=o,i=(t,i)=>{for(var c in i||(i={}))n.call(i,c)&&a(t,c,i[c]);if(e)for(var c of e(i))o.call(i,c)&&a(t,c,i[c]);return t};import{_ as c,d as s,r,u as p,B as l,G as m,H as d,L as u,k as v,f as S,v as y,n as g,N as w,O as f,P as h,o as x}from"./index.3ea596d2.js";var b=c(s({name:"Verse",props:{componentSetting:{type:Object,required:!0}},setup(t){const e=r(""),n=r(),o=p();async function a(){try{const t=await fetch("https://v1.jinrishici.com/all.json"),{content:n}=await t.json();e.value=n}catch{}}let i;const c=()=>{const e=60*(t.componentSetting.duration||5)*1e3;i&&(window.clearInterval(i),i=null),i=window.setInterval(a,e)};l((()=>t.componentSetting.duration),(()=>c()),{immediate:!0}),m((()=>a())),d((()=>i&&window.clearInterval(i)));const s=u((()=>w(t.componentSetting.position)));l((()=>e.value),(()=>{n.value&&n.value.animate&&n.value.animate({opacity:[0,1]},400)}));return{verse:e,positionCSS:s,verseElement:n,handleClickAction:()=>{1===t.componentSetting.clickActionType?(a(),c()):2===t.componentSetting.clickActionType?window.open(`https://hanyu.baidu.com/s?wd=${encodeURIComponent(e.value)}`):3===t.componentSetting.clickActionType&&f(e.value)&&h({title:"提示",type:"success",message:"复制成功"})},contextmenu:t=>{o.state.isLock&&t.stopPropagation()}}}}),[["render",function(t,e,n,o,a,c){return x(),v("div",{class:"wrapper",ref:"verseElement",style:g(i({fontSize:t.componentSetting.textFontSize+"px",color:t.componentSetting.textColor,textShadow:t.componentSetting.textShadow,padding:t.componentSetting.padding+"px",fontFamily:t.componentSetting.fontFamily},t.positionCSS))},[S("span",{style:g(t.componentSetting.clickActionType?"cursor: pointer":""),onClick:e[0]||(e[0]=(...e)=>t.handleClickAction&&t.handleClickAction(...e)),onContextmenu:e[1]||(e[1]=(...e)=>t.contextmenu&&t.contextmenu(...e))},y(t.verse),37)],4)}],["__scopeId","data-v-d6d97550"]]);export{b as default};
