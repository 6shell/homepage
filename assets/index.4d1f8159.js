var t=Object.defineProperty,e=Object.getOwnPropertySymbols,o=Object.prototype.hasOwnProperty,n=Object.prototype.propertyIsEnumerable,i=(e,o,n)=>o in e?t(e,o,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[o]=n,a=(t,a)=>{for(var s in a||(a={}))o.call(a,s)&&i(t,s,a[s]);if(e)for(var s of e(a))n.call(a,s)&&i(t,s,a[s]);return t};import{_ as s,m as l,a as r}from"./index.deddbbbb.js";import{z as c,C as d,Z as p,F as m,x as g,D as u,a1 as v,a6 as S,a2 as f,H as y,I as w,M as b,U as j}from"./element-plus.bd20adc7.js";const h=c({name:"JueJin",props:{componentSetting:{type:Object,required:!0}},setup(t){const e=d([]),o=d(!1),n=d(!1),i=async()=>{try{o.value=!0,n.value=!1;const i=await fetch(`${r}/api/juejinList?limit=${t.componentSetting.limit||10}`),{list:a}=await i.json();e.value=a.map((t=>({id:t.article_id,title:t.title,like:t.digg_count,view:t.view_count})))}catch(i){n.value=!0,console.error(i)}finally{o.value=!1}};let a;function s(){i(),a&&window.clearInterval(a),a=window.setInterval((()=>{i()}),60*t.componentSetting.duration*1e3)}p((()=>s())),m((()=>window.clearInterval(a))),g((()=>[t.componentSetting.duration,t.componentSetting.limit]),(()=>s()));const c=u((()=>l(t.componentSetting.position)));return{logo:"https://sf3-scmcdn2-tos.pstatp.com/xitu_juejin_web/img/logo.a7995ad.svg",list:e,positionCSS:c,loading:o,error:n}}}),x={class:"juejin"},k={class:"logo"},_=["src"],O={key:0,class:"loading"},I={key:1,class:"error"},$={key:2,class:"list"},C={class:"title"},F=["href"],z={class:"like"};var J=s(h,[["render",function(t,e,o,n,i,s){return b(),v("div",{class:"wrapper",style:f(a({fontSize:t.componentSetting.textFontSize+"px",color:t.componentSetting.textColor,textShadow:t.componentSetting.textShadow,padding:t.componentSetting.padding+"px",fontFamily:t.componentSetting.fontFamily},t.positionCSS))},[S("div",x,[S("div",k,[S("img",{src:t.logo,alt:"Juejin",style:f({filter:`drop-shadow(${t.componentSetting.iconShadow})`})},null,12,_)]),t.loading?(b(),v("div",O,"Loading...")):t.error?(b(),v("div",I,"Something error!")):(b(),v("div",$,[(b(!0),v(y,null,w(t.list,(e=>(b(),v("div",{class:"list-item",key:e.id},[S("div",C,[S("a",{href:`https://juejin.cn/post/${e.id}`,target:"_blank",style:f(!t.$store.state.isLock&&"pointer-events: none")},j(e.title),13,F)]),S("div",z,"👍"+j(e.like),1)])))),128))]))])],4)}],["__scopeId","data-v-a4b6cdd6"]]);export{J as default};
