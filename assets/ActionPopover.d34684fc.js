import{_ as e,d as t,r as a,H as o,I as s,C as l,c as i,h as n,w as c,J as u,K as d,o as p,l as v,z as r,y as h,L as f,p as g,A as m,B as x,g as y}from"./index.b595840a.js";import{g as k}from"./direction.933aa86d.js";const w=[(e=>(m("data-v-709ad391"),e=e(),x(),e))((()=>y("i",{class:"el-icon-close"},null,-1)))];var C=e(t({props:{popoverCustomClass:{type:String},closeOnClickOutside:{type:Boolean,default:!0}},emits:["opend","closed"],setup(e,{expose:t,emit:m}){const x=e,y=a(!1),C=a(!1),O=a(""),$=a();o((()=>{document.addEventListener("click",_)})),s((()=>{document.removeEventListener("click",_)}));const _=e=>{x.closeOnClickOutside&&y.value&&!$.value.contains(e.target)&&(y.value=!1)},T=a({width:200,height:200,top:0,left:0}),I=async(e,t)=>{setTimeout((()=>{if(!e.actionSetting)return;const{actionSetting:a}=e,{actionType:o,actionClickType:s,actionClickValue:l}=a;if(1===o&&1===s){const{w:e,h:a,direction:o}=l,[s,i,n,c]=k(t,{width:e||200,height:a||200},o);T.value={width:e||200,height:a||200,left:s,top:i},O.value=`${n-s}px ${c-i}px`,y.value=!0,C.value=0===o}}))},L=()=>{y.value=!1,C.value=!1};return l((()=>y.value),(e=>{m(e?"opend":"closed")})),t({open:I,close:L,toggle:(e,t)=>{y.value?L():I(e,t)},defaultOpen:({w:e,h:t,direction:a},o)=>{setTimeout((()=>{const[s,l,i,n]=k(o,{width:e||200,height:t||200},a);T.value={width:e||200,height:t||200,left:s,top:l},O.value=`${i-s}px ${n-l}px`,y.value=!0,C.value=0===a}))}}),(t,a)=>(p(),i(d,{to:"body"},[n(u,{name:"zoomIn"},{default:c((()=>[y.value?(p(),v("div",{key:0,ref_key:"actionPopover",ref:$,class:f(["action-popover",e.popoverCustomClass]),style:g({width:T.value.width+"px",height:T.value.height+"px",top:T.value.top+"px",left:T.value.left+"px",transformOrigin:O.value})},[r(t.$slots,"default",{},void 0,!0),C.value?(p(),v("div",{key:0,class:"close",onClick:L},w)):h("",!0)],6)):h("",!0)])),_:3})]))}}),[["__scopeId","data-v-709ad391"]]);export{C as default};
