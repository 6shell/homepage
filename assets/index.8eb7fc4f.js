var t=Object.defineProperty,e=Object.defineProperties,o=Object.getOwnPropertyDescriptors,n=Object.getOwnPropertySymbols,a=Object.prototype.hasOwnProperty,i=Object.prototype.propertyIsEnumerable,l=(e,o,n)=>o in e?t(e,o,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[o]=n,r=(t,e)=>{for(var o in e||(e={}))a.call(e,o)&&l(t,o,e[o]);if(n)for(var o of n(e))i.call(e,o)&&l(t,o,e[o]);return t};import{_ as c,d as s,u as d,H as p,r as g,y as v,z as u,w as m,l as y,i as S,G as w,k as f,F as h,p as k,f as b,s as x,t as j,J as z,o as A,I as O,U as F}from"./index.d3eb4bc8.js";import{g as C}from"./color.556e4bcb.js";const I=t=>(x("data-v-c0501c3e"),t=t(),j(),t),L={class:"github"},_=["fill"],P=I((()=>S("div",{class:"logo-text"},"Github Trending",-1))),T={key:1,class:"loading"},V={key:2,class:"error"},M={key:3,class:"list"},B=["onClick"],E={class:"title"},G={key:0,class:"desc"},$={key:1,class:"today-star"},q={class:"footer"},D={key:0,class:"language item"},H={key:1,class:"total-star item"},J=["width","height"],U=[I((()=>S("path",{"fill-rule":"evenodd",d:"M14 6l-4.9-.64L7 1 4.9 5.36 0 6l3.6 3.26L2.67 14 7 11.67 11.33 14l-.93-4.74L14 6z"},null,-1)))],K={key:2,class:"forked item"},N=["width","height"],Q=[I((()=>S("path",{"fill-rule":"evenodd",d:"M8 1a1.993 1.993 0 0 0-1 3.72V6L5 8 3 6V4.72A1.993 1.993 0 0 0 2 1a1.993 1.993 0 0 0-1 3.72V6.5l3 3v1.78A1.993 1.993 0 0 0 5 15a1.993 1.993 0 0 0 1-3.72V9.5l3-3V4.72A1.993 1.993 0 0 0 8 1zM2 4.2C1.34 4.2.8 3.65.8 3c0-.65.55-1.2 1.2-1.2.65 0 1.2.55 1.2 1.2 0 .65-.55 1.2-1.2 1.2zm3 10c-.66 0-1.2-.55-1.2-1.2 0-.65.55-1.2 1.2-1.2.65 0 1.2.55 1.2 1.2 0 .65-.55 1.2-1.2 1.2zm3-10c-.66 0-1.2-.55-1.2-1.2 0-.65.55-1.2 1.2-1.2.65 0 1.2.55 1.2 1.2 0 .65-.55 1.2-1.2 1.2z"},null,-1)))];var R=c(s({props:{componentSetting:{type:Object,required:!0}},setup(t){const n=t,a=d(),i=p((()=>a.state.isLock)),l=g([]),c=g(!1),s=g(!1),x=p((()=>C(n.componentSetting.textColor||"#262626")<150)),j=p((()=>x.value?"#666":"#ccc")),I=p((()=>x.value?"#777":"#bbb")),R=p((()=>x.value?"#888":"#aaa")),W=async()=>{try{c.value=!0,s.value=!1;const t=await fetch("https://cdn.jsdelivr.net/npm/@wcj/github-rank/dist/trending-daily.json"),e=await t.json();if(!e)throw new Error("Api server error");{const t=e.slice(0,n.componentSetting.limit).map((t=>{const{rank:e,full_name:o,language:n,color:a,description:i,forked:l,stargazers_count:r,todayStar:c,html_url:s}=t;return{id:e,title:o,language:n,color:a,description:i,forked:l,todayStar:c,totalStar:r,link:s}}));l.value=t}}catch(t){s.value=!0,console.error(t)}finally{c.value=!1}};let X;function Y(){W(),X&&window.clearInterval(X),X=window.setInterval((()=>{W()}),60*n.componentSetting.duration*1e3)}v((()=>Y())),u((()=>window.clearInterval(X))),m((()=>[n.componentSetting.duration,n.componentSetting.limit]),(()=>Y()));const Z=p((()=>z(n.componentSetting.position))),tt=()=>{1===n.componentSetting.clickActionType?Y():2===n.componentSetting.clickActionType&&window.open("https://github.com/")};return(n,a)=>{return A(),y("div",{class:"wrapper",style:w((d=r({fontSize:t.componentSetting.textFontSize+"px",color:t.componentSetting.textColor,textShadow:t.componentSetting.textShadow,padding:t.componentSetting.padding+"px",fontFamily:t.componentSetting.fontFamily},b(Z)),p={"--grey1":b(j),"--grey2":b(I),"--grey3":b(R)},e(d,o(p))))},[S("div",L,[!1!==t.componentSetting.showTitle?(A(),y("div",{key:0,class:"logo",style:w({cursor:t.componentSetting.clickActionType?"pointer":"default"}),onClick:tt},[(A(),y("svg",{viewBox:"0 0 1024 1024",style:w({filter:`drop-shadow(${t.componentSetting.iconShadow})`})},[S("path",{fill:t.componentSetting.textColor,d:"M512 42.666667A464.64 464.64 0 0 0 42.666667 502.186667 460.373333 460.373333 0 0 0 363.52 938.666667c23.466667 4.266667 32-9.813333 32-22.186667v-78.08c-130.56 27.733333-158.293333-61.44-158.293333-61.44a122.026667 122.026667 0 0 0-52.053334-67.413333c-42.666667-28.16 3.413333-27.733333 3.413334-27.733334a98.56 98.56 0 0 1 71.68 47.36 101.12 101.12 0 0 0 136.533333 37.973334 99.413333 99.413333 0 0 1 29.866667-61.44c-104.106667-11.52-213.333333-50.773333-213.333334-226.986667a177.066667 177.066667 0 0 1 47.36-124.16 161.28 161.28 0 0 1 4.693334-121.173333s39.68-12.373333 128 46.933333a455.68 455.68 0 0 1 234.666666 0c89.6-59.306667 128-46.933333 128-46.933333a161.28 161.28 0 0 1 4.693334 121.173333A177.066667 177.066667 0 0 1 810.666667 477.866667c0 176.64-110.08 215.466667-213.333334 226.986666a106.666667 106.666667 0 0 1 32 85.333334v125.866666c0 14.933333 8.533333 26.88 32 22.186667A460.8 460.8 0 0 0 981.333333 502.186667 464.64 464.64 0 0 0 512 42.666667"},null,8,_)],4)),P],4)):f("",!0),c.value?(A(),y("div",T,"Loading...")):s.value?(A(),y("div",V,"Something error!")):(A(),y("div",M,[(A(!0),y(h,null,k(l.value,(e=>(A(),y("div",{class:"list-item",key:e.id,style:w(b(i)?"":"pointer-events: none"),onClick:t=>(t=>{window.open(t.link)})(e)},[S("div",E,O(e.title),1),e.description?(A(),y("div",G,O(e.description),1)):f("",!0),e.todayStar?(A(),y("div",$,O(e.todayStar),1)):f("",!0),S("div",q,[e.language?(A(),y("div",D,[S("div",{class:"language-circle",style:w(`background: ${e.color}`)},null,4),F(" "+O(e.language),1)])):f("",!0),e.totalStar?(A(),y("div",H,[(A(),y("svg",{"aria-label":"star",width:.7*t.componentSetting.textFontSize,height:.8*t.componentSetting.textFontSize,viewBox:"0 0 14 16",version:"1.1",role:"img"},U,8,J)),F(" "+O(e.totalStar),1)])):f("",!0),e.forked?(A(),y("div",K,[(A(),y("svg",{"aria-label":"repo-forked",width:.64*t.componentSetting.textFontSize,height:.8*t.componentSetting.textFontSize,viewBox:"0 0 10 16",version:"1.1",role:"img"},Q,8,N)),F(" "+O(e.forked),1)])):f("",!0)])],12,B)))),128))]))])],4);var d,p}}}),[["__scopeId","data-v-c0501c3e"]]);export{R as default};
