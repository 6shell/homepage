var t=Object.defineProperty,o=Object.defineProperties,e=Object.getOwnPropertyDescriptors,a=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable,s=(o,e,a)=>e in o?t(o,e,{enumerable:!0,configurable:!0,writable:!0,value:a}):o[e]=a;import{_ as i,d as f,u as m,r as l,a as p,c,w as d,S as u,b,t as g,e as y,o as C,f as O,g as v}from"./index.d3e40f7f.js";import{_ as S}from"./index.03cd1ce2.js";const D=f({name:"ComponentDialog",components:{StandardForm:S},setup(){const t=m(),i=l(),f=p({formConf:{},formData:{}}),c=l();let d;const y=()=>{i.value.close()};return{dialog:i,open:async t=>{d=t;const o=t.material;f.formData=t.componentSetting?JSON.parse(JSON.stringify(t.componentSetting)):JSON.parse(JSON.stringify(u[o].formData)),f.formConf=b("function"==typeof u[o].formConf?u[o].formConf(f.formData):u[o].formConf),i.value.open()},close:y,state:f,submit:()=>{c.value.validate((i=>{if(!i)return!1;{const i=(m=((t,o)=>{for(var e in o||(o={}))n.call(o,e)&&s(t,e,o[e]);if(a)for(var e of a(o))r.call(o,e)&&s(t,e,o[e]);return t})({},d),l={componentSetting:g(f.formData)},o(m,e(l)));t.dispatch("editComponent",i),y()}var m,l}))},form:c}}}),h={class:"footer",style:{"text-align":"right",padding:"12px"}};var w=i(D,[["render",function(t,o,e,a,n,r){const s=y("StandardForm"),i=y("animation-dialog");return C(),c(i,{ref:"dialog",customWrapperClass:"backdrop-blur",animationMode:"",title:"组件配置",width:"min(440px, 98vw)",height:"min(520px, 90vh)",customClass:"component-dialog",closeOnClickOutside:!1,listenWindowSizeChange:"",appendToBody:"","animation-in":"flipInY"},{footer:d((()=>[O("div",h,[O("button",{type:"button",class:"btn",onClick:o[0]||(o[0]=(...o)=>t.close&&t.close(...o))},"取消"),O("button",{type:"button",class:"btn btn-primary",onClick:o[1]||(o[1]=(...o)=>t.submit&&t.submit(...o))},"确认")])])),default:d((()=>[v(s,{formData:t.state.formData,formConf:t.state.formConf,ref:"form","label-width":"100px"},null,8,["formData","formConf"])])),_:1},512)}],["__scopeId","data-v-a2525d78"]]);export{w as default};
