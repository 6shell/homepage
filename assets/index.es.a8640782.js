import{b as t,i as e,Z as n,y as r,_ as o,a0 as a,a1 as s}from"./index.8eb7ff2e.js";import"./index.7c612494.js";import"./color.556e4bcb.js";const i=t=>{if(!t)return!1;if(Array.isArray(t))return!(t.length>1)&&i(t[0]);const e=t.content;return e?i(e):"text"===t.type},c=t((()=>({prosePlugins:(t,c)=>{const l=c.get(e);c.update(n,(t=>{var e;return{editable:null!=(e=t.editable)?e:()=>!0}}));return[new r({props:{handlePaste:(t,e)=>{var n,r;const s=c.get(o),i=null==(r=(n=t.props).editable)?void 0:r.call(n,t.state),{clipboardData:l}=e;if(!i||!l)return!1;const p=l.getData("text/plain");if(l.getData("text/html").length>0||0===p.length)return!1;const u=s(p);if(!u||"string"==typeof u)return!1;const d=t.state.selection.content();return t.dispatch(t.state.tr.replaceSelection(new a(u.content,d.openStart,d.openEnd))),!0},clipboardTextSerializer:t=>{const e=c.get(s);if(i(t.content.toJSON()))return t.content.textBetween(0,t.content.size,"\n\n");const n=l.topNodeType.createAndFill(void 0,t.content);if(!n)return"";return e(n)}}})]}}))),l=c();export{l as clipboard,c as clipboardPlugin};
