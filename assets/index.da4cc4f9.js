import{m as t,s as e,C as n,E as r,n as o,S as a,A as s}from"./index.2fc2091c.js";import"./index.3c9b1954.js";import"./color.556e4bcb.js";const c=t=>{if(!t)return!1;if(Array.isArray(t))return!(t.length>1)&&c(t[0]);const e=t.content;return e?c(e):"text"===t.type},i=t((()=>({prosePlugins:(t,s)=>{const i=s.get(e),l=s.get(n),p=s.get(r);return[new o({props:{handlePaste:(t,e)=>{var n,r;const o=null===(r=(n=t.props).editable)||void 0===r?void 0:r.call(n,t.state),{clipboardData:s}=e;if(!o||!s)return!1;const c=s.getData("text/plain");if(s.getData("text/html").length>0)return!1;const i=l(c);if(!i||"string"==typeof i)return!1;const p=t.state.selection.content();return t.dispatch(t.state.tr.replaceSelection(new a(i.content,p.openStart,p.openEnd))),!0},clipboardTextSerializer:t=>{if(c(t.content.toJSON()))return t.content.textBetween(0,t.content.size,"\n\n");const e=i.topNodeType.createAndFill(void 0,t.content);if(!e)return"";return p(e)}}})]}}))),l=s.create([i()]);export{l as clipboard,i as clipboardPlugin};
