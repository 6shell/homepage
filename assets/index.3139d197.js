var we=Object.defineProperty,Se=Object.defineProperties;var De=Object.getOwnPropertyDescriptors;var Kt=Object.getOwnPropertySymbols;var Ce=Object.prototype.hasOwnProperty,Ee=Object.prototype.propertyIsEnumerable;var te=(t,e,n)=>e in t?we(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Ct=(t,e)=>{for(var n in e||(e={}))Ce.call(e,n)&&te(t,n,e[n]);if(Kt)for(var n of Kt(e))Ee.call(e,n)&&te(t,n,e[n]);return t},ee=(t,e)=>Se(t,De(e));import{i as Zt,r as z,l as he,P as _e,j as Q,M as xe,q as K,e as p,z as nt,x as C,h,H as x,v as y,u as r,N as it,G as E,f as g,F as W,y as mt,D as M,I as pe,Q as Ht,ac as At,p as qt,g as jt,m as Et,n as Fe,o as $e,b as Be,am as Te,al as ze,A as ne,B as _t}from"./vendor.81fc964e.js";import{D as ie}from"./vuedraggable.umd.400a1b17.js";import{_ as Wt,a as me,i as oe,f as Ne,j as Ft,k as ae,u as Oe,l as Z}from"./index.4b5728d4.js";import{a as Pt,b as Ae,c as Pe}from"./images.41da6cf9.js";import Ve from"./ActionPopover.f556a37c.js";import"./direction.8b21c0ae.js";var V,_,o,rt,q=[],Le=q.concat,wt=q.filter,ut=q.slice,N=window.document,Vt={},Lt={},Ie={"column-count":1,columns:1,"font-weight":1,"line-height":1,opacity:1,"z-index":1,zoom:1},Jt=/^\s*<(\w+|!)[^>]*>/,Me=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,Re=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/ig,re=/^(?:body|html)$/i,He=/([A-Z])/g,Je=["val","css","html","text","data","width","height","offset"],Ue=["after","prepend","before","append"],It=N.createElement("table"),le=N.createElement("tr"),se={tr:N.createElement("tbody"),tbody:It,thead:It,tfoot:It,td:le,th:le,"*":N.createElement("div")},Ze=/^[\w-]*$/,Xt={},qe=Xt.toString,D={},$t,Bt,ue=N.createElement("div"),Mt={tabindex:"tabIndex",readonly:"readOnly",for:"htmlFor",class:"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},vt=Array.isArray||function(t){return t instanceof Array};D.matches=function(t,e){if(!e||!t||t.nodeType!==1)return!1;var n=t.matches||t.webkitMatchesSelector||t.mozMatchesSelector||t.oMatchesSelector||t.matchesSelector;if(n)return n.call(t,e);var i,c=t.parentNode,f=!c;return f&&(c=ue).appendChild(t),i=~D.qsa(c,e).indexOf(t),f&&ue.removeChild(t),i};function St(t){return t==null?String(t):Xt[qe.call(t)]||"object"}function st(t){return St(t)=="function"}function Tt(t){return t!=null&&t==t.window}function Ut(t){return t!=null&&t.nodeType==t.DOCUMENT_NODE}function ft(t){return St(t)=="object"}function kt(t){return ft(t)&&!Tt(t)&&Object.getPrototypeOf(t)==Object.prototype}function Yt(t){var e=!!t&&"length"in t&&t.length,n=o.type(t);return n!="function"&&!Tt(t)&&(n=="array"||e===0||typeof e=="number"&&e>0&&e-1 in t)}function je(t){return wt.call(t,function(e){return e!=null})}function We(t){return t.length>0?o.fn.concat.apply([],t):t}$t=function(t){return t.replace(/-+(.)?/g,function(e,n){return n?n.toUpperCase():""})};function bt(t){return t.replace(/::/g,"/").replace(/([A-Z]+)([A-Z][a-z])/g,"$1_$2").replace(/([a-z\d])([A-Z])/g,"$1_$2").replace(/_/g,"-").toLowerCase()}Bt=function(t){return wt.call(t,function(e,n){return t.indexOf(e)==n})};function ce(t){return t in Lt?Lt[t]:Lt[t]=new RegExp("(^|\\s)"+t+"(\\s|$)")}function fe(t,e){return typeof e=="number"&&!Ie[bt(t)]?e+"px":e}function Xe(t){var e,n;return Vt[t]||(e=N.createElement(t),N.body.appendChild(e),n=getComputedStyle(e,"").getPropertyValue("display"),e.parentNode.removeChild(e),n=="none"&&(n="block"),Vt[t]=n),Vt[t]}function de(t){return"children"in t?ut.call(t.children):o.map(t.childNodes,function(e){if(e.nodeType==1)return e})}function ve(t,e){var n,i=t?t.length:0;for(n=0;n<i;n++)this[n]=t[n];this.length=i,this.selector=e||""}D.fragment=function(t,e,n){var i,c,f;return Me.test(t)&&(i=o(N.createElement(RegExp.$1))),i||(t.replace&&(t=t.replace(Re,"<$1></$2>")),e===V&&(e=Jt.test(t)&&RegExp.$1),e in se||(e="*"),f=se[e],f.innerHTML=""+t,i=o.each(ut.call(f.childNodes),function(){f.removeChild(this)})),kt(n)&&(c=o(i),o.each(n,function(S,F){Je.indexOf(S)>-1?c[S](F):c.attr(S,F)})),i};D.Z=function(t,e){return new ve(t,e)};D.isZ=function(t){return t instanceof D.Z};D.init=function(t,e){var n;if(t)if(typeof t=="string")if(t=t.trim(),t[0]=="<"&&Jt.test(t))n=D.fragment(t,RegExp.$1,e),t=null;else{if(e!==V)return o(e).find(t);n=D.qsa(N,t)}else{if(st(t))return o(N).ready(t);if(D.isZ(t))return t;if(vt(t))n=je(t);else if(ft(t))n=[t],t=null;else if(Jt.test(t))n=D.fragment(t.trim(),RegExp.$1,e),t=null;else{if(e!==V)return o(e).find(t);n=D.qsa(N,t)}}else return D.Z();return D.Z(n,t)};o=function(t,e){return D.init(t,e)};function ge(t,e,n){for(_ in e)n&&(kt(e[_])||vt(e[_]))?(kt(e[_])&&!kt(t[_])&&(t[_]={}),vt(e[_])&&!vt(t[_])&&(t[_]=[]),ge(t[_],e[_],n)):e[_]!==V&&(t[_]=e[_])}o.extend=function(t){var e,n=ut.call(arguments,1);return typeof t=="boolean"&&(e=t,t=n.shift()),n.forEach(function(i){ge(t,i,e)}),t};D.qsa=function(t,e){var n,i=e[0]=="#",c=!i&&e[0]==".",f=i||c?e.slice(1):e,S=Ze.test(f);return t.getElementById&&S&&i?(n=t.getElementById(f))?[n]:[]:t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11?[]:ut.call(S&&!i&&t.getElementsByClassName?c?t.getElementsByClassName(f):t.getElementsByTagName(e):t.querySelectorAll(e))};function xt(t,e){return e==null?o(t):o(t).filter(e)}o.contains=N.documentElement.contains?function(t,e){return t!==e&&t.contains(e)}:function(t,e){for(;e&&(e=e.parentNode);)if(e===t)return!0;return!1};function et(t,e,n,i){return st(e)?e.call(t,n,i):e}function Rt(t,e,n){n==null?t.removeAttribute(e):t.setAttribute(e,n)}function ct(t,e){var n=t.className||"",i=n&&n.baseVal!==V;if(e===V)return i?n.baseVal:n;i?n.baseVal=e:t.className=e}function ye(t){try{return t&&(t=="true"||(t=="false"?!1:t=="null"?null:+t+""==t?+t:/^[\[\{]/.test(t)?o.parseJSON(t):t))}catch{return t}}o.type=St;o.isFunction=st;o.isWindow=Tt;o.isArray=vt;o.isPlainObject=kt;o.isEmptyObject=function(t){var e;for(e in t)return!1;return!0};o.isNumeric=function(t){var e=Number(t),n=typeof t;return t!=null&&n!="boolean"&&(n!="string"||t.length)&&!isNaN(e)&&isFinite(e)||!1};o.inArray=function(t,e,n){return q.indexOf.call(e,t,n)};o.camelCase=$t;o.trim=function(t){return t==null?"":String.prototype.trim.call(t)};o.uuid=0;o.support={};o.expr={};o.noop=function(){};o.map=function(t,e){var n,i=[],c,f;if(Yt(t))for(c=0;c<t.length;c++)n=e(t[c],c),n!=null&&i.push(n);else for(f in t)n=e(t[f],f),n!=null&&i.push(n);return We(i)};o.each=function(t,e){var n,i;if(Yt(t)){for(n=0;n<t.length;n++)if(e.call(t[n],n,t[n])===!1)return t}else for(i in t)if(e.call(t[i],i,t[i])===!1)return t;return t};o.grep=function(t,e){return wt.call(t,e)};window.JSON&&(o.parseJSON=JSON.parse);o.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(t,e){Xt["[object "+e+"]"]=e.toLowerCase()});o.fn={constructor:D.Z,length:0,forEach:q.forEach,reduce:q.reduce,push:q.push,sort:q.sort,splice:q.splice,indexOf:q.indexOf,concat:function(){var t,e,n=[];for(t=0;t<arguments.length;t++)e=arguments[t],n[t]=D.isZ(e)?e.toArray():e;return Le.apply(D.isZ(this)?this.toArray():this,n)},map:function(t){return o(o.map(this,function(e,n){return t.call(e,n,e)}))},slice:function(){return o(ut.apply(this,arguments))},ready:function(t){if(N.readyState==="complete"||N.readyState!=="loading"&&!N.documentElement.doScroll)setTimeout(function(){t(o)},0);else{var e=function(){N.removeEventListener("DOMContentLoaded",e,!1),window.removeEventListener("load",e,!1),t(o)};N.addEventListener("DOMContentLoaded",e,!1),window.addEventListener("load",e,!1)}return this},get:function(t){return t===V?ut.call(this):this[t>=0?t:t+this.length]},toArray:function(){return this.get()},size:function(){return this.length},remove:function(){return this.each(function(){this.parentNode!=null&&this.parentNode.removeChild(this)})},each:function(t){return q.every.call(this,function(e,n){return t.call(e,n,e)!==!1}),this},filter:function(t){return st(t)?this.not(this.not(t)):o(wt.call(this,function(e){return D.matches(e,t)}))},add:function(t,e){return o(Bt(this.concat(o(t,e))))},is:function(t){return typeof t=="string"?this.length>0&&D.matches(this[0],t):t&&this.selector==t.selector},not:function(t){var e=[];if(st(t)&&t.call!==V)this.each(function(i){t.call(this,i)||e.push(this)});else{var n=typeof t=="string"?this.filter(t):Yt(t)&&st(t.item)?ut.call(t):o(t);this.forEach(function(i){n.indexOf(i)<0&&e.push(i)})}return o(e)},has:function(t){return this.filter(function(){return ft(t)?o.contains(this,t):o(this).find(t).size()})},eq:function(t){return t===-1?this.slice(t):this.slice(t,+t+1)},first:function(){var t=this[0];return t&&!ft(t)?t:o(t)},last:function(){var t=this[this.length-1];return t&&!ft(t)?t:o(t)},find:function(t){var e,n=this;return t?typeof t=="object"?e=o(t).filter(function(){var i=this;return q.some.call(n,function(c){return o.contains(c,i)})}):this.length==1?e=o(D.qsa(this[0],t)):e=this.map(function(){return D.qsa(this,t)}):e=o(),e},closest:function(t,e){var n=[],i=typeof t=="object"&&o(t);return this.each(function(c,f){for(;f&&!(i?i.indexOf(f)>=0:D.matches(f,t));)f=f!==e&&!Ut(f)&&f.parentNode;f&&n.indexOf(f)<0&&n.push(f)}),o(n)},parents:function(t){for(var e=[],n=this;n.length>0;)n=o.map(n,function(i){if((i=i.parentNode)&&!Ut(i)&&e.indexOf(i)<0)return e.push(i),i});return xt(e,t)},parent:function(t){return xt(Bt(this.pluck("parentNode")),t)},children:function(t){return xt(this.map(function(){return de(this)}),t)},contents:function(){return this.map(function(){return this.contentDocument||ut.call(this.childNodes)})},siblings:function(t){return xt(this.map(function(e,n){return wt.call(de(n.parentNode),function(i){return i!==n})}),t)},empty:function(){return this.each(function(){this.innerHTML=""})},pluck:function(t){return o.map(this,function(e){return e[t]})},show:function(){return this.each(function(){this.style.display=="none"&&(this.style.display=""),getComputedStyle(this,"").getPropertyValue("display")=="none"&&(this.style.display=Xe(this.nodeName))})},replaceWith:function(t){return this.before(t).remove()},wrap:function(t){var e=st(t);if(this[0]&&!e)var n=o(t).get(0),i=n.parentNode||this.length>1;return this.each(function(c){o(this).wrapAll(e?t.call(this,c):i?n.cloneNode(!0):n)})},wrapAll:function(t){if(this[0]){o(this[0]).before(t=o(t));for(var e;(e=t.children()).length;)t=e.first();o(t).append(this)}return this},wrapInner:function(t){var e=st(t);return this.each(function(n){var i=o(this),c=i.contents(),f=e?t.call(this,n):t;c.length?c.wrapAll(f):i.append(f)})},unwrap:function(){return this.parent().each(function(){o(this).replaceWith(o(this).children())}),this},clone:function(){return this.map(function(){return this.cloneNode(!0)})},hide:function(){return this.css("display","none")},toggle:function(t){return this.each(function(){var e=o(this);(t===V?e.css("display")=="none":t)?e.show():e.hide()})},prev:function(t){return o(this.pluck("previousElementSibling")).filter(t||"*")},next:function(t){return o(this.pluck("nextElementSibling")).filter(t||"*")},html:function(t){return 0 in arguments?this.each(function(e){var n=this.innerHTML;o(this).empty().append(et(this,t,e,n))}):0 in this?this[0].innerHTML:null},text:function(t){return 0 in arguments?this.each(function(e){var n=et(this,t,e,this.textContent);this.textContent=n==null?"":""+n}):0 in this?this.pluck("textContent").join(""):null},attr:function(t,e){var n;return typeof t=="string"&&!(1 in arguments)?0 in this&&this[0].nodeType==1&&(n=this[0].getAttribute(t))!=null?n:V:this.each(function(i){if(this.nodeType===1)if(ft(t))for(_ in t)Rt(this,_,t[_]);else Rt(this,t,et(this,e,i,this.getAttribute(t)))})},removeAttr:function(t){return this.each(function(){this.nodeType===1&&t.split(" ").forEach(function(e){Rt(this,e)},this)})},prop:function(t,e){return t=Mt[t]||t,typeof t=="string"&&!(1 in arguments)?this[0]&&this[0][t]:this.each(function(n){if(ft(t))for(_ in t)this[Mt[_]||_]=t[_];else this[t]=et(this,e,n,this[t])})},removeProp:function(t){return t=Mt[t]||t,this.each(function(){delete this[t]})},data:function(t,e){var n="data-"+t.replace(He,"-$1").toLowerCase(),i=1 in arguments?this.attr(n,e):this.attr(n);return i!==null?ye(i):V},val:function(t){return 0 in arguments?(t==null&&(t=""),this.each(function(e){this.value=et(this,t,e,this.value)})):this[0]&&(this[0].multiple?o(this[0]).find("option").filter(function(){return this.selected}).pluck("value"):this[0].value)},offset:function(t){if(t)return this.each(function(n){var i=o(this),c=et(this,t,n,i.offset()),f=i.offsetParent().offset(),S={top:c.top-f.top,left:c.left-f.left};i.css("position")=="static"&&(S.position="relative"),i.css(S)});if(!this.length)return null;if(N.documentElement!==this[0]&&!o.contains(N.documentElement,this[0]))return{top:0,left:0};var e=this[0].getBoundingClientRect();return{left:e.left+window.pageXOffset,top:e.top+window.pageYOffset,width:Math.round(e.width),height:Math.round(e.height)}},css:function(t,e){if(arguments.length<2){var n=this[0];if(typeof t=="string")return n?n.style[$t(t)]||getComputedStyle(n,"").getPropertyValue(t):void 0;if(vt(t)){if(!n)return;var i={},c=getComputedStyle(n,"");return o.each(t,function(S,F){i[F]=n.style[$t(F)]||c.getPropertyValue(F)}),i}}var f="";if(St(t)=="string")!e&&e!==0?this.each(function(){this.style.removeProperty(bt(t))}):f=bt(t)+":"+fe(t,e);else for(_ in t)!t[_]&&t[_]!==0?this.each(function(){this.style.removeProperty(bt(_))}):f+=bt(_)+":"+fe(_,t[_])+";";return this.each(function(){this.style.cssText+=";"+f})},index:function(t){return t?this.indexOf(o(t)[0]):this.parent().children().indexOf(this[0])},hasClass:function(t){return t?q.some.call(this,function(e){return this.test(ct(e))},ce(t)):!1},addClass:function(t){return t?this.each(function(e){if("className"in this){rt=[];var n=ct(this),i=et(this,t,e,n);i.split(/\s+/g).forEach(function(c){o(this).hasClass(c)||rt.push(c)},this),rt.length&&ct(this,n+(n?" ":"")+rt.join(" "))}}):this},removeClass:function(t){return this.each(function(e){if("className"in this){if(t===V)return ct(this,"");rt=ct(this),et(this,t,e,rt).split(/\s+/g).forEach(function(n){rt=rt.replace(ce(n)," ")}),ct(this,rt.trim())}})},toggleClass:function(t,e){return t?this.each(function(n){var i=o(this),c=et(this,t,n,ct(this));c.split(/\s+/g).forEach(function(f){(e===V?!i.hasClass(f):e)?i.addClass(f):i.removeClass(f)})}):this},scrollTop:function(t){if(!!this.length){var e="scrollTop"in this[0];return t===V?e?this[0].scrollTop:this[0].pageYOffset:this.each(e?function(){this.scrollTop=t}:function(){this.scrollTo(this.scrollX,t)})}},scrollLeft:function(t){if(!!this.length){var e="scrollLeft"in this[0];return t===V?e?this[0].scrollLeft:this[0].pageXOffset:this.each(e?function(){this.scrollLeft=t}:function(){this.scrollTo(t,this.scrollY)})}},position:function(){if(!!this.length){var t=this[0],e=this.offsetParent(),n=this.offset(),i=re.test(e[0].nodeName)?{top:0,left:0}:e.offset();return n.top-=parseFloat(o(t).css("margin-top"))||0,n.left-=parseFloat(o(t).css("margin-left"))||0,i.top+=parseFloat(o(e[0]).css("border-top-width"))||0,i.left+=parseFloat(o(e[0]).css("border-left-width"))||0,{top:n.top-i.top,left:n.left-i.left}}},offsetParent:function(){return this.map(function(){for(var t=this.offsetParent||N.body;t&&!re.test(t.nodeName)&&o(t).css("position")=="static";)t=t.offsetParent;return t})}};o.fn.detach=o.fn.remove;["width","height"].forEach(function(t){var e=t.replace(/./,function(n){return n[0].toUpperCase()});o.fn[t]=function(n){var i,c=this[0];return n===V?Tt(c)?c["inner"+e]:Ut(c)?c.documentElement["scroll"+e]:(i=this.offset())&&i[t]:this.each(function(f){c=o(this),c.css(t,et(this,n,f,c[t]()))})}});function be(t,e){e(t);for(var n=0,i=t.childNodes.length;n<i;n++)be(t.childNodes[n],e)}Ue.forEach(function(t,e){var n=e%2;o.fn[t]=function(){var i,c=o.map(arguments,function(F){var k=[];return i=St(F),i=="array"?(F.forEach(function(A){if(A.nodeType!==V)return k.push(A);if(o.zepto.isZ(A))return k=k.concat(A.get());k=k.concat(D.fragment(A))}),k):i=="object"||F==null?F:D.fragment(F)}),f,S=this.length>1;return c.length<1?this:this.each(function(F,k){f=n?k:k.parentNode,k=e==0?k.nextSibling:e==1?k.firstChild:e==2?k:null;var A=o.contains(N.documentElement,f);c.forEach(function(P){if(S)P=P.cloneNode(!0);else if(!f)return o(P).remove();f.insertBefore(P,k),A&&be(P,function(a){if(a.nodeName!=null&&a.nodeName.toUpperCase()==="SCRIPT"&&(!a.type||a.type==="text/javascript")&&!a.src){var T=a.ownerDocument?a.ownerDocument.defaultView:window;T.eval.call(T,a.innerHTML)}})})})},o.fn[n?t+"To":"insert"+(e?"Before":"After")]=function(i){return o(i)[t](this),this}});D.Z.prototype=ve.prototype=o.fn;D.uniq=Bt;D.deserializeValue=ye;o.zepto=D;var j=o;const Gt=t=>(qt("data-v-28492fa2"),t=t(),jt(),t),Ye=["src"],Ge=["src"],Qe={key:3,class:"img-loading"},Ke=["width","height"],tn=Gt(()=>h("path",{d:"M948.079775 106.337352H460.223099S394.153465 1.788394 355.688563 1.788394H181.435493a69.68969 69.68969 0 0 0-69.68969 69.704113v801.474704a69.718535 69.718535 0 0 0 69.68969 69.68969h766.629859a69.718535 69.718535 0 0 0 69.68969-69.68969V176.027042a69.718535 69.718535 0 0 0-69.68969-69.68969z",fill:"#D0994B"},null,-1)),en=Gt(()=>h("path",{d:"M111.745803 210.871887h906.023662v278.787606H111.745803z",fill:"#E4E7E7"},null,-1)),nn=Gt(()=>h("path",{d:"M76.900958 280.561577h975.713352a69.68969 69.68969 0 0 1 69.704113 69.704113L1052.628732 942.656901a69.718535 69.718535 0 0 1-69.704112 69.689691H146.60507a69.718535 69.718535 0 0 1-69.704112-69.689691L7.211268 350.26569a69.68969 69.68969 0 0 1 69.68969-69.704113z",fill:"#F4B459"},null,-1)),on=[tn,en,nn],an={key:0,class:"transform-tips"},rn={key:1,class:"transform-bookmark-wrapper"},ln={key:0,class:"details"},sn={key:1,class:"title"},un={class:"footer",style:{"text-align":"right",padding:"12px"}},cn=["loading"],fn=Zt({props:{boxSize:String,boxRadius:String,iconSize:String},emits:["add","edit","import"],setup(t,{expose:e,emit:n}){const i=[{label:"API\u83B7\u53D6",value:"api"},{label:"\u6587\u5B57\u56FE\u6807",value:"text"},{label:"\u7F51\u7EDC\u56FE\u7247",value:"network"}],c=z(),f=z(),S=z(""),F=z(!0),k=z(!1),A=z(!1),{t:P}=he(),a=_e({formData:{id:"",type:"icon",title:"",url:"",iconType:"api",iconPath:"",bgColor:"rgba(241, 243, 244, 1)",children:[]},formRules:{title:[{required:!0,message:"\u8BF7\u8F93\u5165\u6807\u9898",trigger:"blur"}],url:[{required:!0,message:"\u8BF7\u8F93\u5165\u7F51\u7AD9\u5730\u5740",trigger:"blur"}],iconType:[{required:!0,message:"\u8BF7\u9009\u62E9\u56FE\u6807\u7C7B\u578B",trigger:"change"}],iconPath:[{validator:L,trigger:"blur"}]}}),T=z();function L(u,m,J){a.formData.iconType==="network"&&!m?J(new Error("\u8BF7\u8F93\u5165\u56FE\u6807\u5730\u5740")):J()}const H=Q(()=>a.formData.iconType==="api"&&S.value||a.formData.iconType==="network"&&a.formData.iconPath||a.formData.iconType==="text"&&a.formData.title),dt=()=>{var u;a.formData.url?((u=a.formData.iconPath)!=null&&u.includes("data:image")&&(a.formData.iconType="api",a.formData.iconPath=""),S.value=Pt(a.formData.url),fetch(`${Ne}/api/title?url=${encodeURIComponent(a.formData.url.replace(/http(s)?:\/\//,""))}`).then(m=>m.json()).then(m=>{a.formData.title||(a.formData.title=m.title)})):S.value=""};xe(()=>S.value,u=>{u?A.value=!0:A.value=!1});const gt=()=>{a.formData.iconType==="text"?a.formData.iconPath="rgba(48,50,56,1)":a.formData.iconPath="",a.formData.url&&a.formData.iconType==="api"&&(S.value=Pt(a.formData.url))},tt=()=>{f.value.validate(async u=>{if(u){if(k.value=!0,a.formData.type==="icon")try{if(F.value&&a.formData.iconType==="api"&&S.value&&a.formData.url){const m=await Ae(Pt(a.formData.url),"image/x-icon");a.formData.iconType="network",a.formData.iconPath=m}else a.formData.iconType==="api"&&S.value&&a.formData.url&&(a.formData.iconType="network",a.formData.iconPath=await Pe(a.formData.url))}catch{Ht({title:P("\u63D0\u793A"),type:"error",message:P("\u65E0\u6CD5\u83B7\u53D6\u5230\u56FE\u6807\uFF0C\u4F7F\u7528\u6587\u5B57\u56FE\u6807\u4EE3\u66FF")}),a.formData.iconType="text",a.formData.iconPath="rgba(52,54,62,1)"}if(a.formData.type==="file"){if(!X.value||X.value.length===0)return;n("import",At(X.value))}else a.formData.id?n("edit",Ct({},JSON.parse(JSON.stringify(a.formData))),At(T.value)):(a.formData.id=Ft(),n("add",Ct({},JSON.parse(JSON.stringify(a.formData))),At(T.value)));k.value=!1,Dt()}else return!1})},zt=(u,m)=>{k.value=!1,u&&(a.formData={id:u.id,type:u.type,title:u.title,url:u.url,iconType:u.iconType,iconPath:u.iconPath,bgColor:u.bgColor,children:u.children||[]}),m&&(T.value=m),c.value.open()},yt=()=>{f.value.resetFields(),S.value="",a.formData={id:"",type:"icon",title:"",url:"",iconType:"api",iconPath:"",bgColor:"rgba(241, 243, 244, 1)",children:[]},T.value=null,X.value=[]},Dt=()=>{yt(),c.value.close()},ht=z(),X=z([]),Nt=()=>{ht.value.click(),ht.value.onchange=u=>{const m=()=>{Ht({title:P("\u5F02\u5E38"),type:"error",message:P("\u8BC6\u522B\u6587\u4EF6\u9519\u8BEF\uFF0C\u8BF7\u68C0\u67E5\u6587\u4EF6")})},J=u.currentTarget;if(J){const{files:pt}=J,I=new FileReader;I.readAsText(pt[0],"UTF-8"),I.onload=O=>{var R;const ot=(R=O.target)==null?void 0:R.result;try{const Y=j(ot).children("dt").first().children("dl").children("dt"),at=[];Y.map((b,U)=>{if(j(U).children().length===1){const s=j(U).children("a").text(),d=j(U).children("a").attr("href"),l=j(U).children("a").attr("icon");at.push({title:s,href:d,icon:l})}else if(j(U).children().length===3){const s=j(U).children("h3").text(),d=[];j(U).children("dl").children("dt").map((l,w)=>{if(j(w).children().length===1){const v=j(w).children("a").text(),$=j(w).children("a").attr("href"),B=j(w).children("a").attr("icon");d.push({title:v,href:$,icon:B})}}),at.push({title:s,children:d})}}),!at||at.length===0?m():X.value=at}catch{m()}},I.onerror=()=>m()}}};e({open:zt,close:yt});const lt=me();return(u,m)=>{const J=K("el-radio"),pt=K("el-radio-group"),I=K("el-form-item"),O=K("el-input"),ot=K("Icon"),R=K("el-switch"),Y=K("el-form"),at=K("animation-dialog");return p(),nt(at,pe({ref_key:"dialog",ref:c,animationMode:"",title:r(a).formData.id?u.$t("\u7F16\u8F91\u4E66\u7B7E"):u.$t("\u6DFB\u52A0\u4E66\u7B7E"),width:"min(480px, 98vw)",height:"min(520px, 90vh)",closeOnClickOutside:!1,listenWindowSizeChange:!0,appendToBody:"",onClose:yt},r(lt),{customWrapperClass:"backdrop-blur bookmark-config-dialog"}),{footer:C(()=>[h("div",un,[h("button",{type:"button",class:"btn",onClick:Dt},x(u.$t("\u53D6\u6D88")),1),h("button",{type:"button",class:"btn btn-primary",loading:k.value,onClick:tt},x(u.$t("\u786E\u8BA4")),9,cn)])]),default:C(()=>[y(Y,{ref_key:"form",ref:f,"label-width":"110px",model:r(a).formData,rules:r(a).formRules},{default:C(()=>[y(I,{label:u.$t("\u7C7B\u578B")},{default:C(()=>[y(pt,{modelValue:r(a).formData.type,"onUpdate:modelValue":m[0]||(m[0]=b=>r(a).formData.type=b),disabled:!!r(a).formData.id},{default:C(()=>[y(J,{label:"icon"},{default:C(()=>[it(x(u.$t("\u56FE\u6807")),1)]),_:1}),y(J,{label:"folder",disabled:!!T.value},{default:C(()=>[it(x(u.$t("\u6587\u4EF6\u5939")),1)]),_:1},8,["disabled"]),y(J,{label:"file",disabled:!!T.value},{default:C(()=>[it(x(u.$t("\u4ECEChrome\u4E66\u7B7E\u5BFC\u5165")),1)]),_:1},8,["disabled"])]),_:1},8,["modelValue","disabled"])]),_:1},8,["label"]),r(a).formData.type==="icon"?(p(),nt(I,{key:0,label:u.$t("\u7F51\u7AD9\u5730\u5740"),prop:"url"},{default:C(()=>[y(O,{modelValue:r(a).formData.url,"onUpdate:modelValue":m[1]||(m[1]=b=>r(a).formData.url=b),placeholder:u.$t("\u8BF7\u8F93\u5165\u7F51\u7AD9\u5730\u5740"),onBlur:dt},null,8,["modelValue","placeholder"])]),_:1},8,["label"])):E("",!0),r(a).formData.type!=="file"?(p(),nt(I,{key:1,label:r(a).formData.type==="icon"?u.$t("\u7F51\u7AD9\u540D\u79F0"):u.$t("\u6587\u4EF6\u5939\u540D\u79F0"),prop:"title"},{default:C(()=>[y(O,{modelValue:r(a).formData.title,"onUpdate:modelValue":m[2]||(m[2]=b=>r(a).formData.title=b),placeholder:r(a).formData.type==="icon"?u.$t("\u8BF7\u8F93\u5165\u7F51\u7AD9\u540D\u79F0"):u.$t("\u8BF7\u8F93\u5165\u6587\u4EF6\u5939\u540D\u79F0")},null,8,["modelValue","placeholder"])]),_:1},8,["label"])):E("",!0),r(a).formData.type==="icon"?(p(),g(W,{key:2},[y(I,{label:u.$t("\u7F51\u7AD9\u56FE\u6807"),prop:"iconType"},{default:C(()=>[y(pt,{modelValue:r(a).formData.iconType,"onUpdate:modelValue":m[3]||(m[3]=b=>r(a).formData.iconType=b),onChange:gt},{default:C(()=>[(p(),g(W,null,mt(i,b=>y(J,{label:b.value,key:b.value},{default:C(()=>[it(x(u.$t(b.label)),1)]),_:2},1032,["label"])),64))]),_:1},8,["modelValue"])]),_:1},8,["label"]),r(a).formData.iconType==="network"?(p(),nt(I,{key:0,label:u.$t("\u56FE\u6807\u5730\u5740"),prop:"iconPath"},{default:C(()=>[y(O,{modelValue:r(a).formData.iconPath,"onUpdate:modelValue":m[4]||(m[4]=b=>r(a).formData.iconPath=b),placeholder:u.$t("\u8BF7\u8F93\u5165\u56FE\u6807\u5730\u5740")},null,8,["modelValue","placeholder"])]),_:1},8,["label"])):E("",!0),r(a).formData.iconType==="text"?(p(),nt(I,{key:1,label:u.$t("\u6587\u672C\u989C\u8272"),prop:"iconPath"},{default:C(()=>[y(oe,{"show-alpha":"",modelValue:r(a).formData.iconPath,"onUpdate:modelValue":m[5]||(m[5]=b=>r(a).formData.iconPath=b)},null,8,["modelValue"])]),_:1},8,["label"])):E("",!0)],64)):E("",!0),r(a).formData.type!=="file"?(p(),g(W,{key:3},[y(I,{label:u.$t("\u80CC\u666F\u989C\u8272"),prop:"bgColor"},{default:C(()=>[y(oe,{"show-alpha":"",modelValue:r(a).formData.bgColor,"onUpdate:modelValue":m[6]||(m[6]=b=>r(a).formData.bgColor=b)},null,8,["modelValue"])]),_:1},8,["label"]),y(I,{label:u.$t("\u56FE\u6807\u9884\u89C8")},{default:C(()=>{var b;return[h("div",{class:"icon-img-preview-box",style:M({width:t.boxSize,height:t.boxSize,borderRadius:t.boxRadius,background:r(a).formData.bgColor})},[r(a).formData.type==="icon"&&r(H)?(p(),g(W,{key:0},[r(a).formData.iconType==="network"?(p(),g("img",{key:0,src:r(a).formData.iconPath,style:M({width:t.iconSize,height:t.iconSize})},null,12,Ye)):E("",!0),r(a).formData.iconType==="api"&&S.value?(p(),g("img",{key:1,src:S.value,style:M({width:t.iconSize,height:t.iconSize}),onLoad:m[7]||(m[7]=U=>A.value=!1),onError:m[8]||(m[8]=U=>A.value=!1)},null,44,Ge)):E("",!0),r(a).formData.iconType==="text"?(p(),g("div",{key:2,style:M({fontSize:t.iconSize,color:r(a).formData.iconPath}),class:"no-icon"},x((b=r(a).formData.title)==null?void 0:b.slice(0,1)),5)):E("",!0),A.value?(p(),g("div",Qe,[y(ot,{name:"loader-2",size:t.iconSize,class:"infinty-loading"},null,8,["size"])])):E("",!0)],64)):E("",!0),r(a).formData.type==="folder"?(p(),g("svg",{key:1,viewBox:"0 0 1124 1024",width:(t.iconSize||"32").replace("px",""),height:(t.iconSize||"32").replace("px","")},on,8,Ke)):E("",!0)],4)]}),_:1},8,["label"])],64)):E("",!0),r(a).formData.type==="icon"?(p(),nt(I,{key:4,label:u.$t("\u7F13\u5B58\u56FE\u6807")},{default:C(()=>[y(R,{modelValue:F.value,"onUpdate:modelValue":m[9]||(m[9]=b=>F.value=b)},null,8,["modelValue"])]),_:1},8,["label"])):E("",!0),r(a).formData.type==="file"?(p(),nt(I,{key:5,label:u.$t("\u4E66\u7B7EHTML")},{default:C(()=>[h("button",{type:"button",class:"btn btn-warning",onClick:Nt},x(u.$t("\u5BFC\u5165\u6587\u4EF6")),1),h("input",{type:"file",accept:".html",style:{display:"none"},ref_key:"htmlRef",ref:ht},null,512),X.value.length?(p(),g("div",an,x(u.$t("\u89E3\u6790\u4E66\u7B7E\u6587\u4EF6\u6210\u529F\uFF0C\u89E3\u6790\u7ED3\u679C\u5982\u4E0B")),1)):E("",!0),X.value.length?(p(),g("div",rn,[(p(!0),g(W,null,mt(X.value,(b,U)=>(p(),g(W,{key:U},[b.children?(p(),g("details",ln,[h("summary",null,x(b.title),1),(p(!0),g(W,null,mt(b.children,(s,d)=>(p(),g("div",{key:d,class:"sub-title"},x(s.title),1))),128))])):(p(),g("div",sn,x(b.title),1))],64))),128))])):E("",!0)]),_:1},8,["label"])):E("",!0)]),_:1},8,["model","rules"])]),_:1},16,["title"])}}});var dn=Wt(fn,[["__scopeId","data-v-28492fa2"]]);const ke=t=>(qt("data-v-059d75cd"),t=t(),jt(),t),hn=ke(()=>h("div",{class:"folder-wrapper"},[h("svg",{viewBox:"0 0 1124 1024",width:"20",height:"20"},[h("path",{d:"M948.079775 106.337352H460.223099S394.153465 1.788394 355.688563 1.788394H181.435493a69.68969 69.68969 0 0 0-69.68969 69.704113v801.474704a69.718535 69.718535 0 0 0 69.68969 69.68969h766.629859a69.718535 69.718535 0 0 0 69.68969-69.68969V176.027042a69.718535 69.718535 0 0 0-69.68969-69.68969z",fill:"#D0994B"}),h("path",{d:"M111.745803 210.871887h906.023662v278.787606H111.745803z",fill:"#E4E7E7"}),h("path",{d:"M76.900958 280.561577h975.713352a69.68969 69.68969 0 0 1 69.704113 69.704113L1052.628732 942.656901a69.718535 69.718535 0 0 1-69.704112 69.689691H146.60507a69.718535 69.718535 0 0 1-69.704112-69.689691L7.211268 350.26569a69.68969 69.68969 0 0 1 69.68969-69.704113z",fill:"#F4B459"})]),h("div",{class:"folder-name"},"__ROOT__")],-1)),pn={class:"folder-wrapper"},mn=ke(()=>h("svg",{viewBox:"0 0 1124 1024",width:"20",height:"20"},[h("path",{d:"M948.079775 106.337352H460.223099S394.153465 1.788394 355.688563 1.788394H181.435493a69.68969 69.68969 0 0 0-69.68969 69.704113v801.474704a69.718535 69.718535 0 0 0 69.68969 69.68969h766.629859a69.718535 69.718535 0 0 0 69.68969-69.68969V176.027042a69.718535 69.718535 0 0 0-69.68969-69.68969z",fill:"#D0994B"}),h("path",{d:"M111.745803 210.871887h906.023662v278.787606H111.745803z",fill:"#E4E7E7"}),h("path",{d:"M76.900958 280.561577h975.713352a69.68969 69.68969 0 0 1 69.704113 69.704113L1052.628732 942.656901a69.718535 69.718535 0 0 1-69.704112 69.689691H146.60507a69.718535 69.718535 0 0 1-69.704112-69.689691L7.211268 350.26569a69.68969 69.68969 0 0 1 69.68969-69.704113z",fill:"#F4B459"})],-1)),vn={class:"folder-name"},gn={class:"footer",style:{"text-align":"right",padding:"12px"}},yn=Zt({props:{folderList:{type:Array,default:()=>[]}},setup(t,{expose:e}){const n=z(),i=z(!1);let c,f;const S=T=>(n.value.open(),i.value=!!T,new Promise((L,H)=>{c=L,f=H})),F=z("$root"),k=()=>{n.value.close()},A=()=>{f()},P=()=>{!F.value||(c(F.value),k())};e({move:S});const a=me();return(T,L)=>{const H=K("el-radio"),dt=K("el-radio-group"),gt=K("animation-dialog");return p(),nt(gt,pe({ref_key:"dialog",ref:n,animationMode:"",title:T.$t("\u9009\u62E9\u6587\u4EF6\u5939"),width:"min(280px, 90vw)",height:"min(320px, 60vh)",closeOnClickOutside:!1,listenWindowSizeChange:!0,appendToBody:"",onClose:A},r(a),{customWrapperClass:"bookmark-move-dialog"}),{footer:C(()=>[h("div",gn,[h("button",{type:"button",class:"btn",onClick:k},x(T.$t("\u53D6\u6D88")),1),h("button",{type:"button",class:"btn btn-primary",onClick:P},x(T.$t("\u786E\u8BA4")),1)])]),default:C(()=>[y(dt,{modelValue:F.value,"onUpdate:modelValue":L[0]||(L[0]=tt=>F.value=tt)},{default:C(()=>[i.value?(p(),nt(H,{key:0,label:"$root"},{default:C(()=>[hn]),_:1})):E("",!0),(p(!0),g(W,null,mt(t.folderList,tt=>(p(),nt(H,{label:tt.id,key:tt.id},{default:C(()=>[h("div",pn,[mn,h("div",vn,x(tt.title),1)])]),_:2},1032,["label"]))),128))]),_:1},8,["modelValue"])]),_:1},16,["title"])}}});var bn=Wt(yn,[["__scopeId","data-v-059d75cd"]]);const Qt=t=>(qt("data-v-450a6437"),t=t(),jt(),t),kn=["onClick"],wn=["src"],Sn=["width","height"],Dn=Qt(()=>h("path",{d:"M948.079775 106.337352H460.223099S394.153465 1.788394 355.688563 1.788394H181.435493a69.68969 69.68969 0 0 0-69.68969 69.704113v801.474704a69.718535 69.718535 0 0 0 69.68969 69.68969h766.629859a69.718535 69.718535 0 0 0 69.68969-69.68969V176.027042a69.718535 69.718535 0 0 0-69.68969-69.68969z",fill:"#D0994B"},null,-1)),Cn=Qt(()=>h("path",{d:"M111.745803 210.871887h906.023662v278.787606H111.745803z",fill:"#E4E7E7"},null,-1)),En=Qt(()=>h("path",{d:"M76.900958 280.561577h975.713352a69.68969 69.68969 0 0 1 69.704113 69.704113L1052.628732 942.656901a69.718535 69.718535 0 0 1-69.704112 69.689691H146.60507a69.718535 69.718535 0 0 1-69.704112-69.689691L7.211268 350.26569a69.68969 69.68969 0 0 1 69.68969-69.704113z",fill:"#F4B459"},null,-1)),_n=[Dn,Cn,En],xn={class:"tile-title"},Fn={key:0,class:"selected-icon"},$n={class:"btn-add-wrapper"},Bn={key:0,class:"popover-wrapper"},Tn={class:"title"},zn=["onClick"],Nn=["src"],On={key:0,class:"selected-icon"},An={key:0,class:"batch-operation-wrapper"},Pn={class:"selected-count"},Vn={class:"num"},Ln={class:"operation-btn-wrapper"},In={key:0,class:"batch-operation-wrapper"},Mn={class:"selected-count"},Rn={class:"num"},Hn={class:"operation-btn-wrapper"},Jn=Zt({props:{componentSetting:{type:Object,required:!0},element:{type:Object,required:!0},isAction:{type:Boolean,default:!1}},setup(t){const e=t;ze(s=>({"11b629c7":r(a),"62d0441a":r(T),"4614e222":r(S),"12356a73":r(F),"6a0915b8":r(k),"8b73fd72":r(A),aec6f328:r(P)}));const n=ee(Ct({},ae),{updated:ae.mounted}),{t:i}=he(),c=z(),f=Q(()=>L.isLock),S=Q(()=>e.componentSetting.boxSize+"px"),F=Q(()=>e.componentSetting.boxRadius+"px"),k=Q(()=>e.componentSetting.iconSize+"px"),A=Q(()=>e.componentSetting.textFontSize+"px"),P=Q(()=>e.componentSetting.textColor),a=Q(()=>e.componentSetting.padding+"px"),T=Q(()=>`${e.componentSetting.boxSize+e.componentSetting.textFontSize*1.5+e.componentSetting.padding*2+8}px`),L=Oe(),H=Q({get:()=>e.componentSetting.bookmark,set:s=>{const d=JSON.parse(JSON.stringify(e.element));e.isAction?(d.componentSetting.actionClickValue.componentSetting.bookmark=s,L.updateActionElement(d)):d.componentSetting.bookmark=s,L.editComponent(d)}}),dt=z([{label:()=>i("\u7F16\u8F91"),fn:s=>{gt(s.element,s.parent)},icon:Et(Z,{name:"lock",size:18})},{label:()=>i("\u79FB\u52A8"),fn:s=>{lt([s.element],!1,s.parent)},hidden:s=>s.element.type==="folder",icon:Et(Z,{name:"send-plane",size:18})},{label:()=>i("\u5220\u9664"),fn:s=>{lt([s.element],!0,s.parent)},icon:Et(Z,{name:"delete",size:18}),customClass:"delete"},{line:!0},{label:()=>i("\u6279\u91CF\u64CD\u4F5C"),icon:Et(Z,{name:"checkbox-multiple",size:18}),fn:s=>{at(s.parent)}}]),gt=(s,d)=>c.value.open(s,d),tt=s=>c.value.open(null,s),zt=(s,d)=>{const l=JSON.parse(JSON.stringify(e.element)),w=e.isAction?l.componentSetting.actionClickValue.componentSetting.bookmark:l.componentSetting.bookmark;if(d){const v=w.findIndex($=>$.id===d.id);~v&&w[v].children.push(s)}else w.push(s);L.editComponent(l),d&&J()},yt=async(s,d)=>{const l=JSON.parse(JSON.stringify(e.element)),w=e.isAction?l.componentSetting.actionClickValue.componentSetting.bookmark:l.componentSetting.bookmark;if(d){const v=w.findIndex(B=>B.id===d.id);if(!~v)return;const $=w[v].children.findIndex(B=>B.id===s.id);~$&&(w[v].children[$]=s)}else{const v=w.findIndex($=>$.id===s.id);~v&&(w[v]=s)}L.editComponent(l),d&&J()},Dt=s=>{const d=s.map(v=>v.children?(v.children=v.children.map($=>({bgColor:"rgba(241, 243, 244, 1)",iconPath:$.icon||"rgba(48,50,56,1)",iconType:$.icon?"network":"text",id:Ft(),title:$.title,type:"icon",url:$.href})),{bgColor:"rgba(241, 243, 244, 1)",children:v.children,iconPath:"",iconType:"api",id:Ft(),title:v.title,type:"folder",url:""}):{bgColor:"rgba(241, 243, 244, 1)",children:[],iconPath:v.icon||"rgba(48,50,56,1)",iconType:v.icon?"network":"text",id:Ft(),title:v.title,type:"icon",url:v.href}),l=JSON.parse(JSON.stringify(e.element));(e.isAction?l.componentSetting.actionClickValue.componentSetting.bookmark:l.componentSetting.bookmark).push(...d),L.editComponent(l)},ht=(s,d)=>{if(O.value){const l=Y.value.findIndex(w=>w===s.id);~l?(R.value.splice(l,1),Y.value.splice(l,1)):(R.value.push(s),Y.value.push(s.id))}else if(s.type==="icon"){let l=s.url;/https?:\/\/[-A-Za-z0-9+&@#/%?=~_|!:,.;]+[-A-Za-z0-9+&@#/%=~_|]/.test(l)||(l="https://"+l),e.componentSetting.jumpType===2?window.location.href=l:window.open(l)}else s.type==="folder"&&(m.value.defaultOpen({w:Math.min(720,window.innerWidth*.9),h:Math.min(400,window.innerHeight*.75),direction:0},d.currentTarget),u.value=s)},X=z(),Nt=Q(()=>H.value.filter(s=>s.type==="folder")),lt=async(s,d=!1,l)=>{if(!(!s||s.length===0))try{const w=JSON.parse(JSON.stringify(e.element)),v=e.isAction?w.componentSetting.actionClickValue.componentSetting.bookmark:w.componentSetting.bookmark;if(d){if(!confirm(i("\u786E\u8BA4\u8981\u5220\u9664\u6240\u9009\u9879?")))return}else{const $=await X.value.move(l);if($===(l==null?void 0:l.id))return;if(s.filter(B=>B.type==="folder").length&&(Ht({title:i("\u63D0\u793A"),message:i("\u76EE\u524D\u6682\u4E0D\u652F\u6301\u79FB\u52A8\u6587\u4EF6\u5939")}),s=s.filter(B=>B.type!=="folder")),$==="$root")s.map(B=>{~v.findIndex(G=>G.id===B.id)||v.push(B)});else{const B=v.findIndex(G=>G.id===$);~B&&s.map(G=>{~v[B].children.findIndex(Ot=>Ot.id===G.id)||v[B].children.push(G)})}}if(l){const $=v.findIndex(B=>B.id===l.id);s.map(B=>{const G=v[$].children.findIndex(Ot=>Ot.id===B.id);~G&&v[$].children.splice(G,1)})}else s.map($=>{const B=v.findIndex(G=>G.id===$.id);~B&&v.splice(B,1)});e.isAction&&L.updateActionElement(w),L.editComponent(w),l&&J(),O.value&&(O.value=!1,R.value=[],Y.value=[])}catch(w){console.error(w),console.log("Cancel Move")}},u=z(),m=z(),J=async()=>{await Fe();const s=H.value.findIndex(d=>{var l;return d.id===((l=u.value)==null?void 0:l.id)});~s&&(u.value=H.value[s])},pt=()=>{var w;const s=JSON.parse(JSON.stringify(e.element)),d=e.isAction?s.componentSetting.actionClickValue.componentSetting.bookmark:s.componentSetting.bookmark,l=H.value.findIndex(v=>{var $;return v.id===(($=u.value)==null?void 0:$.id)});d[l].children=(w=u.value)==null?void 0:w.children,L.editComponent(s)},I=()=>{u.value=null},O=z(!1),ot=z(),R=z([]),Y=z([]),at=s=>{O.value=!0,ot.value=s},b=()=>{O.value=!1,R.value.length=0,Y.value.length=0},U=s=>{O.value&&(b(),s.preventDefault(),document.oncontextmenu=d=>d.preventDefault())};return $e(()=>document.addEventListener("contextmenu",U)),Be(()=>document.removeEventListener("contextmenu",U)),(s,d)=>(p(),g("div",{class:"wrapper",style:M({fontSize:t.componentSetting.textFontSize+"px",color:t.componentSetting.textColor,padding:t.componentSetting.padding+"px"})},[h("div",{class:"bookmark-wrapper",style:M({maxWidth:`${t.componentSetting.maxWidth||880}px`,pointerEvents:r(f)?"all":"none"})},[y(r(ie),{modelValue:r(H),"onUpdate:modelValue":d[1]||(d[1]=l=>Te(H)?H.value=l:null),class:"bookmark-draggable-wrapper","item-key":"id"},{item:C(({element:l,index:w})=>[ne((p(),g("div",{class:_t(["item"]),onClick:v=>ht(l,v)},[h("div",{class:_t(["tile-icon",O.value&&!ot.value&&"bounce-icon"]),style:M({background:l.bgColor,boxShadow:t.componentSetting.boxShadow})},[l.type!=="folder"?(p(),g(W,{key:0},[l.iconType==="network"?(p(),g("img",{key:0,src:l.iconPath,alt:""},null,8,wn)):E("",!0),l.iconType==="text"?(p(),g("div",{key:1,style:M({fontSize:r(k),color:l.iconPath}),class:"no-icon"},x(l.title.slice(0,1)),5)):E("",!0)],64)):(p(),g("svg",{key:1,viewBox:"0 0 1124 1024",width:(r(k)||"32").replace("px",""),height:(r(k)||"32").replace("px","")},_n,8,Sn))],6),h("div",xn,x(l.title),1),Y.value.includes(l.id)?(p(),g("div",Fn,[y(Z,{name:"check",size:"30"})])):E("",!0)],8,kn)),[[n,{disabled:()=>O.value,params:{element:l,index:w},menuList:dt.value,width:120,iconType:"vnode-icon"}]])]),footer:C(()=>[O.value?E("",!0):(p(),g("div",{key:0,class:"item btn-add-item",onClick:d[0]||(d[0]=l=>tt())},[h("div",$n,[y(Z,{name:"add"})])])),(p(),g(W,null,mt(20,l=>h("div",{class:"item fake",key:l})),64))]),_:1},8,["modelValue"])],4),y(dn,{ref_key:"configDialog",ref:c,boxSize:r(S),boxRadius:r(F),iconSize:r(k),onAdd:zt,onEdit:yt,onImport:Dt},null,8,["boxSize","boxRadius","iconSize"]),y(bn,{ref_key:"moveDialog",ref:X,folderList:r(Nt)},null,8,["folderList"]),y(Ve,{ref_key:"popover",ref:m,"close-on-click-outside":!!t.componentSetting.closeClickOutside,onClosed:I},{default:C(()=>[u.value?(p(),g("div",Bn,[h("div",Tn,x(u.value.title),1),y(r(ie),{modelValue:u.value.children,"onUpdate:modelValue":d[3]||(d[3]=l=>u.value.children=l),class:"bookmark-draggable-wrapper","item-key":"id",onEnd:pt},{item:C(({element:l,index:w})=>[ne((p(),g("div",{class:_t(["item"]),style:M({width:r(T),height:r(T),padding:r(a)}),onClick:v=>ht(l)},[h("div",{class:_t(["tile-icon",O.value&&ot.value&&"bounce-icon"]),style:M({background:l.bgColor,boxShadow:t.componentSetting.boxShadow,width:r(S),height:r(S),borderRadius:r(F)})},[l.type!=="folder"?(p(),g(W,{key:0},[l.iconType==="network"?(p(),g("img",{key:0,style:M({width:r(k),height:r(k)}),src:l.iconPath,alt:""},null,12,Nn)):E("",!0),l.iconType==="text"?(p(),g("div",{key:1,style:M({fontSize:r(k),color:l.iconPath}),class:"no-icon"},x(l.title.slice(0,1)),5)):E("",!0)],64)):E("",!0)],6),h("div",{class:"tile-title",style:M({fontSize:r(A),color:r(P)})},x(l.title),5),Y.value.includes(l.id)?(p(),g("div",On,[y(Z,{name:"check",size:"30"})])):E("",!0)],12,zn)),[[n,{params:{element:l,index:w,parent:u.value},menuList:dt.value,width:120,iconType:"vnode-icon"}]])]),footer:C(()=>[O.value?E("",!0):(p(),g("div",{key:0,class:"item btn-add-item",style:M({width:r(T),height:r(T),padding:r(a)}),onClick:d[2]||(d[2]=l=>tt(u.value))},[h("div",{class:"btn-add-wrapper",style:M({color:r(P),border:`2px dashed ${r(P)}`})},[y(Z,{name:"add"})],4)],4)),(p(),g(W,null,mt(20,l=>h("div",{class:"item fake",style:M({width:r(T),padding:`0 ${r(a)}`}),key:l},null,4)),64))]),_:1},8,["modelValue"]),O.value&&ot.value?(p(),g("div",An,[h("div",{class:"close-btn",onClick:b},[y(Z,{name:"close"})]),h("div",Pn,[h("span",Vn,x(R.value.length),1),it(x(s.$t("\u9879\u5DF2\u9009\u62E9")),1)]),h("div",Ln,[h("div",{class:"move-btn",onClick:d[4]||(d[4]=l=>lt(R.value,!1,u.value))},[y(Z,{name:"send-plane",size:"16"}),it(" "+x(s.$t("\u79FB\u52A8")),1)]),h("div",{class:"del-btn",onClick:d[5]||(d[5]=l=>lt(R.value,!0,u.value))},[y(Z,{name:"delete",size:"16"}),it(" "+x(s.$t("\u5220\u9664")),1)])])])):E("",!0)])):E("",!0)]),_:1},8,["close-on-click-outside"]),O.value&&!ot.value?(p(),g("div",In,[h("div",{class:"close-btn",onClick:b},[y(Z,{name:"close"})]),h("div",Mn,[h("span",Rn,x(R.value.length),1),it(x(s.$t("\u9879\u5DF2\u9009\u62E9")),1)]),h("div",Hn,[h("div",{class:"move-btn",onClick:d[6]||(d[6]=l=>lt(R.value))},[y(Z,{name:"send-plane",size:"16"}),it(" "+x(s.$t("\u79FB\u52A8")),1)]),h("div",{class:"del-btn",onClick:d[7]||(d[7]=l=>lt(R.value,!0))},[y(Z,{name:"delete",size:"16"}),it(" "+x(s.$t("\u5220\u9664")),1)])])])):E("",!0)],4))}});var Gn=Wt(Jn,[["__scopeId","data-v-450a6437"]]);export{Gn as default};
