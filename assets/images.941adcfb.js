import{V as e}from"./index.a252f889.js";function n(e,n="image/png",t,o){return new Promise(((r,a)=>{const s=new XMLHttpRequest;s.open("GET",e,!0),s.responseType="arraybuffer",o&&(s.timeout=o),s.onload=()=>{if(200===s.status){const e=new Uint8Array(s.response);let t=e.length;const o=new Array(t);for(;t--;)o[t]=String.fromCharCode(e[t]);const a=o.join(""),i=window.btoa(a);r("data:"+(n||"image/png")+";base64,"+i)}},s.onerror=e=>{a(e)},s.onprogress=e=>{t&&t(e)},o&&(s.ontimeout=e=>{s.abort(),a(e)}),s.send()}))}function t(n,t="redirect",o=!1){let r=`${e}/api/icon?url=${encodeURIComponent(n.replace(/http(s)?:\/\//,""))}`;return"source"===t&&(r+="&type=source"),o&&(r+="&disabledCache=1"),r}async function o(n,t=!1){let o=`${e}/api/icon?url=${encodeURIComponent(n.replace(/http(s)?:\/\//,""))}`;t&&(o+="&disabledCache=1"),o+="&type=link";const r=await fetch(o);return await r.text()}function r(n){return`${e}/api/icon/v2?url=${encodeURIComponent(n.replace(/http(s)?:\/\//,""))}`}export{r as a,n as b,o as c,t as g};
