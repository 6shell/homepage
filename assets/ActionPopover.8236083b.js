import{_ as e,d as a,r as t,G as o,H as s,c as i,g as l,w as c,I as n,J as u,o as v,k as r,y as d,x as p,K as h,n as f,z as g,A as m,f as y}from"./index.7d7388b1.js";import{g as w}from"./direction.933aa86d.js";const k=[(e=>(g("data-v-49a30c9a"),e=e(),m(),e))((()=>y("i",{class:"el-icon-close"},null,-1)))];var x=e(a({props:{popoverCustomClass:{type:String}},setup(e,{expose:a}){const g=t(!1),m=t(!1),y=t();o((()=>{document.addEventListener("click",x)})),s((()=>{document.removeEventListener("click",x)}));const x=e=>{g.value&&!y.value.contains(e.target)&&(g.value=!1)},C=t({width:200,height:200,top:0,left:0,race:0}),T=async(e,a)=>{setTimeout((()=>{if(!e.actionSetting)return;const{actionSetting:t}=e,{actionType:o,actionClickType:s,actionClickValue:i}=t;if(1===o&&1===s){const{w:e,h:t,direction:o}=i,[s,l,c,n]=w(a,{width:e||200,height:t||200},o);C.value={width:0,height:0,left:c,top:n,race:0},g.value=!0,setTimeout((()=>{C.value={width:e||200,height:t||200,left:s,top:l,race:1}}),10),m.value=0===o}}))},_=()=>{g.value=!1,m.value=!1};return a({open:T,close:_,toggle:(e,a)=>{g.value?_():T(e,a)}}),(a,t)=>(v(),i(u,{to:"body"},[l(n,{name:"fadeOut"},{default:c((()=>[g.value?(v(),r("div",{key:0,ref:(e,a)=>{a.actionPopover=e,y.value=e},class:h(["action-popover",e.popoverCustomClass]),style:f({width:C.value.width+"px",height:C.value.height+"px",top:C.value.top+"px",left:C.value.left+"px",opacity:C.value.race,overflow:1===C.value.race?"visible":"hidden"})},[d(a.$slots,"default",{},void 0,!0),m.value?(v(),r("div",{key:0,class:"close",onClick:_},k)):p("",!0)],6)):p("",!0)])),_:3})]))}}),[["__scopeId","data-v-49a30c9a"]]);export{x as default};
