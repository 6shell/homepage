var t=Object.defineProperty,e=Object.prototype.hasOwnProperty,o=Object.getOwnPropertySymbols,n=Object.prototype.propertyIsEnumerable,a=(e,o,n)=>o in e?t(e,o,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[o]=n,i=(t,i)=>{for(var r in i||(i={}))e.call(i,r)&&a(t,r,i[r]);if(o)for(var r of o(i))n.call(i,r)&&a(t,r,i[r]);return t};import{m as r}from"./index.aef29eeb.js";import{g as l}from"./color.556e4bcb.js";import{d as s,e as c,f as d,C as g,D as p,w as v,p as m,h as u,o as y,j as S,s as f,F as h,k as w,t as b,q as k,B as x,u as j}from"./element-plus.99702569.js";var z=s({name:"GithubTrending",props:{componentSetting:{type:Object,required:!0}},setup(t){const e=c([]),o=c(!1),n=c(!1),a=d((()=>l(t.componentSetting.textColor||"#262626")<150)),i=d((()=>a.value?"#666":"#ccc")),s=d((()=>a.value?"#777":"#bbb")),m=d((()=>a.value?"#888":"#aaa")),u=async()=>{try{o.value=!0,n.value=!1;const a=await fetch("https://cdn.jsdelivr.net/npm/@wcj/github-rank/dist/trending-daily.json"),i=await a.json();if(!i)throw new Error("Api server error");{const o=i.slice(0,t.componentSetting.limit).map((t=>{const{rank:e,full_name:o,language:n,color:a,description:i,forked:r,stargazers_count:l,todayStar:s,html_url:c}=t;return{id:e,title:o,language:n,color:a,description:i,forked:r,todayStar:s,totalStar:l,link:c}}));e.value=o}}catch(a){n.value=!0,console.error(a)}finally{o.value=!1}};let y;function S(){u(),y&&window.clearInterval(y),y=window.setInterval((()=>{u()}),60*t.componentSetting.duration*1e3)}g((()=>S())),p((()=>window.clearInterval(y))),v((()=>[t.componentSetting.duration,t.componentSetting.limit]),(()=>S()));const f=d((()=>r(t.componentSetting.position)));return{logo:"https://favicon.cccyun.cc/https://github.com",list:e,loading:o,error:n,positionCSS:f,grey1:i,grey2:s,grey3:m,turn:t=>{window.open(t.link)}}}});const C=j();m("data-v-2cf7144a");const F={class:"github"},A={class:"logo"},O=f("div",{class:"logo-text"},"Github Trending",-1),L={key:0,class:"loading"},I={key:1,class:"error"},V={key:2,class:"list"},_={class:"title"},B={key:0,class:"desc"},M={key:1,class:"today-star"},P={class:"footer"},$={key:0,class:"language item"},q={key:1,class:"total-star item"},E=f("path",{"fill-rule":"evenodd",d:"M14 6l-4.9-.64L7 1 4.9 5.36 0 6l3.6 3.26L2.67 14 7 11.67 11.33 14l-.93-4.74L14 6z"},null,-1),G={key:2,class:"forked item"},T=f("path",{"fill-rule":"evenodd",d:"M8 1a1.993 1.993 0 0 0-1 3.72V6L5 8 3 6V4.72A1.993 1.993 0 0 0 2 1a1.993 1.993 0 0 0-1 3.72V6.5l3 3v1.78A1.993 1.993 0 0 0 5 15a1.993 1.993 0 0 0 1-3.72V9.5l3-3V4.72A1.993 1.993 0 0 0 8 1zM2 4.2C1.34 4.2.8 3.65.8 3c0-.65.55-1.2 1.2-1.2.65 0 1.2.55 1.2 1.2 0 .65-.55 1.2-1.2 1.2zm3 10c-.66 0-1.2-.55-1.2-1.2 0-.65.55-1.2 1.2-1.2.65 0 1.2.55 1.2 1.2 0 .65-.55 1.2-1.2 1.2zm3-10c-.66 0-1.2-.55-1.2-1.2 0-.65.55-1.2 1.2-1.2.65 0 1.2.55 1.2 1.2 0 .65-.55 1.2-1.2 1.2z"},null,-1);u();const D=C(((t,e,o,n,a,r)=>(y(),S("div",{class:"wrapper",style:i(i({fontSize:t.componentSetting.textFontSize+"px",color:t.componentSetting.textColor,textShadow:t.componentSetting.textShadow,padding:t.componentSetting.padding+"px",fontFamily:t.componentSetting.fontFamily},t.positionCSS),{"--grey1":t.grey1,"--grey2":t.grey2,"--grey3":t.grey3})},[f("div",F,[f("div",A,[(y(),S("svg",{viewBox:"0 0 1024 1024",style:{filter:`drop-shadow(${t.componentSetting.iconShadow})`}},[f("path",{fill:t.componentSetting.textColor,d:"M512 42.666667A464.64 464.64 0 0 0 42.666667 502.186667 460.373333 460.373333 0 0 0 363.52 938.666667c23.466667 4.266667 32-9.813333 32-22.186667v-78.08c-130.56 27.733333-158.293333-61.44-158.293333-61.44a122.026667 122.026667 0 0 0-52.053334-67.413333c-42.666667-28.16 3.413333-27.733333 3.413334-27.733334a98.56 98.56 0 0 1 71.68 47.36 101.12 101.12 0 0 0 136.533333 37.973334 99.413333 99.413333 0 0 1 29.866667-61.44c-104.106667-11.52-213.333333-50.773333-213.333334-226.986667a177.066667 177.066667 0 0 1 47.36-124.16 161.28 161.28 0 0 1 4.693334-121.173333s39.68-12.373333 128 46.933333a455.68 455.68 0 0 1 234.666666 0c89.6-59.306667 128-46.933333 128-46.933333a161.28 161.28 0 0 1 4.693334 121.173333A177.066667 177.066667 0 0 1 810.666667 477.866667c0 176.64-110.08 215.466667-213.333334 226.986666a106.666667 106.666667 0 0 1 32 85.333334v125.866666c0 14.933333 8.533333 26.88 32 22.186667A460.8 460.8 0 0 0 981.333333 502.186667 464.64 464.64 0 0 0 512 42.666667"},null,8,["fill"])],4)),O]),t.loading?(y(),S("div",L,"Loading...")):t.error?(y(),S("div",I,"Something error!")):(y(),S("div",V,[(y(!0),S(h,null,w(t.list,(e=>(y(),S("div",{class:"list-item",key:e.id,style:!t.$store.state.isLock&&"pointer-events: none",onClick:o=>t.turn(e)},[f("div",_,b(e.title),1),e.description?(y(),S("div",B,b(e.description),1)):k("",!0),e.todayStar?(y(),S("div",M,b(e.todayStar),1)):k("",!0),f("div",P,[e.language?(y(),S("div",$,[f("div",{class:"language-circle",style:`background: ${e.color}`},null,4),x(" "+b(e.language),1)])):k("",!0),e.totalStar?(y(),S("div",q,[(y(),S("svg",{"aria-label":"star",width:.7*t.componentSetting.textFontSize,height:.8*t.componentSetting.textFontSize,viewBox:"0 0 14 16",version:"1.1",role:"img"},[E],8,["width","height"])),x(" "+b(e.totalStar),1)])):k("",!0),e.forked?(y(),S("div",G,[(y(),S("svg",{"aria-label":"repo-forked",width:.64*t.componentSetting.textFontSize,height:.8*t.componentSetting.textFontSize,viewBox:"0 0 10 16",version:"1.1",role:"img"},[T],8,["width","height"])),x(" "+b(e.forked),1)])):k("",!0)])],12,["onClick"])))),128))]))])],4))));z.render=D,z.__scopeId="data-v-2cf7144a";export default z;
