var t=Object.defineProperty,e=Object.getOwnPropertySymbols,o=Object.prototype.hasOwnProperty,n=Object.prototype.propertyIsEnumerable,i=(e,o,n)=>o in e?t(e,o,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[o]=n,a=(t,a)=>{for(var s in a||(a={}))o.call(a,s)&&i(t,s,a[s]);if(e)for(var s of e(a))n.call(a,s)&&i(t,s,a[s]);return t};import{_ as s,d as l,r,f as c,e as p,w as d,c as g,a as m,g as u,n as v,b as S,F as f,q as w,m as y,o as b,t as j,l as h}from"./index.78b2041b.js";const k=l({name:"JueJin",props:{componentSetting:{type:Object,required:!0}},setup(t){const e=r([]),o=r(!1),n=r(!1),i=async()=>{try{o.value=!0,n.value=!1;const i=await fetch(`${h}/api/juejinList?limit=${t.componentSetting.limit||10}`),{list:a}=await i.json();e.value=a.map((t=>({id:t.article_id,title:t.title,like:t.digg_count,view:t.view_count})))}catch(i){n.value=!0,console.error(i)}finally{o.value=!1}};let a;function s(){i(),a&&window.clearInterval(a),a=window.setInterval((()=>{i()}),60*t.componentSetting.duration*1e3)}c((()=>s())),p((()=>window.clearInterval(a))),d((()=>[t.componentSetting.duration,t.componentSetting.limit]),(()=>s()));const l=g((()=>y(t.componentSetting.position)));return{logo:"https://sf3-scmcdn2-tos.pstatp.com/xitu_juejin_web/img/logo.a7995ad.svg",list:e,positionCSS:l,loading:o,error:n}}}),x={class:"juejin"},_={key:0,class:"logo"},O=["src"],I={key:1,class:"loading"},$={key:2,class:"error"},F={key:3,class:"list"},C={class:"title"},J=["href"],L={class:"like"};var P=s(k,[["render",function(t,e,o,n,i,s){return b(),m("div",{class:"wrapper",style:v(a({fontSize:t.componentSetting.textFontSize+"px",color:t.componentSetting.textColor,textShadow:t.componentSetting.textShadow,padding:t.componentSetting.padding+"px",fontFamily:t.componentSetting.fontFamily},t.positionCSS))},[u("div",x,[!1!==t.componentSetting.showTitle?(b(),m("div",_,[u("img",{src:t.logo,alt:"Juejin",style:v({filter:`drop-shadow(${t.componentSetting.iconShadow})`})},null,12,O)])):S("",!0),t.loading?(b(),m("div",I,"Loading...")):t.error?(b(),m("div",$,"Something error!")):(b(),m("div",F,[(b(!0),m(f,null,w(t.list,(e=>(b(),m("div",{class:"list-item",key:e.id},[u("div",C,[u("a",{href:`https://juejin.cn/post/${e.id}`,target:"_blank",style:v(!t.$store.state.isLock&&"pointer-events: none")},j(e.title),13,J)]),u("div",L,"👍"+j(e.like),1)])))),128))]))])],4)}],["__scopeId","data-v-b03f538c"]]);export{P as default};
