import{_ as e,d as a,r as t,G as o,H as s,c as i,g as l,w as n,I as c,J as u,o as v,k as p,y as r,x as d,K as h,n as f,z as g,A as m,f as x}from"./index.1ee3e23f.js";import{g as y}from"./direction.933aa86d.js";const k=[(e=>(g("data-v-92261c66"),e=e(),m(),e))((()=>x("i",{class:"el-icon-close"},null,-1)))];var w=e(a({props:{popoverCustomClass:{type:String}},setup(e,{expose:a}){const g=t(!1),m=t(!1),x=t(""),w=t();o((()=>{document.addEventListener("click",C)})),s((()=>{document.removeEventListener("click",C)}));const C=e=>{g.value&&!w.value.contains(e.target)&&(g.value=!1)},_=t({width:200,height:200,top:0,left:0}),I=async(e,a)=>{setTimeout((()=>{if(!e.actionSetting)return;const{actionSetting:t}=e,{actionType:o,actionClickType:s,actionClickValue:i}=t;if(1===o&&1===s){const{w:e,h:t,direction:o}=i,[s,l,n,c]=y(a,{width:e||200,height:t||200},o);_.value={width:e||200,height:t||200,left:s,top:l},x.value=`${n-s}px ${c-l}px`,g.value=!0,m.value=0===o}}))},S=()=>{g.value=!1,m.value=!1};return a({open:I,close:S,toggle:(e,a)=>{g.value?S():I(e,a)}}),(a,t)=>(v(),i(u,{to:"body"},[l(c,{name:"zoomIn"},{default:n((()=>[g.value?(v(),p("div",{key:0,ref:(e,a)=>{a.actionPopover=e,w.value=e},class:h(["action-popover",e.popoverCustomClass]),style:f({width:_.value.width+"px",height:_.value.height+"px",top:_.value.top+"px",left:_.value.left+"px",transformOrigin:x.value})},[r(a.$slots,"default",{},void 0,!0),m.value?(v(),p("div",{key:0,class:"close",onClick:S},k)):d("",!0)],6)):d("",!0)])),_:3})]))}}),[["__scopeId","data-v-92261c66"]]);export{w as default};
