import{m as t,s as e,C as n,E as r,n as o,S as a,A as s}from"./index.bd59f0af.js";import"./index.14864500.js";import"./color.556e4bcb.js";const i=t=>{if(!t)return!1;if(Array.isArray(t))return!(t.length>1)&&i(t[0]);const e=t.content;return e?i(e):"text"===t.type},c=t((()=>({prosePlugins:(t,s)=>{const c=s.get(e),l=s.get(n),p=s.get(r);return[new o({props:{handlePaste:(t,e)=>{var n,r;const o=null===(r=(n=t.props).editable)||void 0===r?void 0:r.call(n,t.state),{clipboardData:s}=e;if(!o||!s)return!1;const i=s.getData("text/plain");if(s.getData("text/html").length>0)return!1;const c=l(i);if(!c||"string"==typeof c)return!1;const p=t.state.selection.content();return t.dispatch(t.state.tr.replaceSelection(new a(c.content,p.openStart,p.openEnd))),!0},clipboardTextSerializer:t=>{if(i(t.content.toJSON()))return t.content.textBetween(0,t.content.size,"\n\n");const e=c.topNodeType.createAndFill(void 0,t.content);if(!e)return"";return p(e)}}})]}}))),l=s.create([c()]);export{l as clipboard,c as clipboardPlugin};
