var t=Object.defineProperty,o=Object.defineProperties,a=Object.getOwnPropertyDescriptors,e=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable,s=(o,a,e)=>a in o?t(o,a,{enumerable:!0,configurable:!0,writable:!0,value:e}):o[a]=e;import{_ as i,d as f,u as m,r as l,a as p,b as c,c as d,w as u,m as b,S as g,e as y,t as O,f as C,o as v,g as S,h}from"./index.b595840a.js";import{_ as D}from"./index.4e396aa7.js";const w=f({name:"ComponentDialog",components:{StandardForm:D},setup(){const t=m(),i=l(),f=p({formConf:{},formData:{}}),d=l();let u;const b=()=>{i.value.close()},C=c();return{dialog:i,open:async t=>{u=t;const o=t.material;f.formData=t.componentSetting?JSON.parse(JSON.stringify(t.componentSetting)):JSON.parse(JSON.stringify(g[o].formData)),f.formConf=y("function"==typeof g[o].formConf?g[o].formConf(f.formData):g[o].formConf),i.value.open()},close:b,state:f,submit:()=>{d.value.validate((i=>{if(!i)return!1;{const i=(m=((t,o)=>{for(var a in o||(o={}))n.call(o,a)&&s(t,a,o[a]);if(e)for(var a of e(o))r.call(o,a)&&s(t,a,o[a]);return t})({},u),l={componentSetting:O(f.formData)},o(m,a(l)));t.dispatch("editComponent",i),b()}var m,l}))},form:d,dialogOptions:C}}}),j={class:"footer",style:{"text-align":"right",padding:"12px"}};var x=i(w,[["render",function(t,o,a,e,n,r){const s=C("StandardForm"),i=C("animation-dialog");return v(),d(i,b({ref:"dialog",animationMode:"",title:"组件配置",width:"min(440px, 98vw)",height:"min(520px, 90vh)",customClass:"component-dialog",closeOnClickOutside:!1,listenWindowSizeChange:"",appendToBody:""},t.dialogOptions),{footer:u((()=>[S("div",j,[S("button",{type:"button",class:"btn",onClick:o[0]||(o[0]=(...o)=>t.close&&t.close(...o))},"取消"),S("button",{type:"button",class:"btn btn-primary",onClick:o[1]||(o[1]=(...o)=>t.submit&&t.submit(...o))},"确认")])])),default:u((()=>[h(s,{formData:t.state.formData,formConf:t.state.formConf,ref:"form","label-width":"100px"},null,8,["formData","formConf"])])),_:1},16)}],["__scopeId","data-v-922ba46e"]]);export{x as default};
