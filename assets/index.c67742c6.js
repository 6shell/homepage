var e=Object.defineProperty,t=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable,a=(t,n,o)=>n in t?e(t,n,{enumerable:!0,configurable:!0,writable:!0,value:o}):t[n]=o,i=(e,i)=>{for(var c in i||(i={}))n.call(i,c)&&a(e,c,i[c]);if(t)for(var c of t(i))o.call(i,c)&&a(e,c,i[c]);return e};import{_ as c,d as s,r,u as p,B as l,G as m,H as u,L as d,k as v,f as S,v as y,n as g,N as f,O as w,P as h,o as x}from"./index.fe526e92.js";var b=c(s({name:"Verse",props:{componentSetting:{type:Object,required:!0}},setup(e){const t=r(""),n=r(),o=p();async function a(){try{const e=await fetch("https://v1.jinrishici.com/all.json"),{content:n}=await e.json();t.value=n}catch{}}let i;const c=()=>{const t=60*(e.componentSetting.duration||5)*1e3;i&&(window.clearInterval(i),i=null),i=window.setInterval(a,t)};l((()=>e.componentSetting.duration),(()=>c()),{immediate:!0}),m((()=>a())),u((()=>i&&window.clearInterval(i)));const s=d((()=>f(e.componentSetting.position)));l((()=>t.value),(()=>{n.value&&n.value.animate&&n.value.animate({opacity:[0,1]},400)}));return{verse:t,positionCSS:s,verseElement:n,handleClickAction:()=>{1===e.componentSetting.clickActionType?(a(),c()):2===e.componentSetting.clickActionType?window.open(`https://hanyu.baidu.com/s?wd=${encodeURIComponent(t.value)}`):3===e.componentSetting.clickActionType&&w(t.value)&&h({title:"提示",type:"success",message:"复制成功"})},contextmenu:e=>{o.state.isLock&&e.stopPropagation()}}}}),[["render",function(e,t,n,o,a,c){return x(),v("div",{class:"wrapper",ref:"verseElement",style:g(i({fontSize:e.componentSetting.textFontSize+"px",color:e.componentSetting.textColor,textShadow:e.componentSetting.textShadow,padding:e.componentSetting.padding+"px",fontFamily:e.componentSetting.fontFamily},e.positionCSS))},[S("span",{style:g(e.componentSetting.clickActionType?"cursor: pointer":""),onClick:t[0]||(t[0]=(...t)=>e.handleClickAction&&e.handleClickAction(...t)),onContextmenu:t[1]||(t[1]=(...t)=>e.contextmenu&&e.contextmenu(...t))},y(e.verse),37)],4)}],["__scopeId","data-v-d6d97550"]]);export{b as default};
