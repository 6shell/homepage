var t=Object.defineProperty,e=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable,a=(e,n,o)=>n in e?t(e,n,{enumerable:!0,configurable:!0,writable:!0,value:o}):e[n]=o,i=(t,i)=>{for(var s in i||(i={}))n.call(i,s)&&a(t,s,i[s]);if(e)for(var s of e(i))o.call(i,s)&&a(t,s,i[s]);return t};import{U as s}from"./Unset.c9f28169.js";import{_ as c,m as r}from"./index.244dccde.js";import{d as p}from"./dayjs.min.96aafdab.js";import{z as m,C as l,D as u,Z as d,F as S,x as g,X as v,a1 as f,U as y,J as b,a6 as w,G as j,a2 as x,M as O}from"./element-plus.bd20adc7.js";const h=m({name:"CountDown",components:{Unset:s},props:{componentSetting:{type:Object,required:!0}},setup(t){const e=l(0),n={"天":"day","小时":"hour","分钟":"minute"};function o(){const e=p(new Date),o=p(t.componentSetting.eventTime);console.log(n[t.componentSetting.unit]);return o.diff(e,n[t.componentSetting.unit])}const a=u((()=>"hour"===t.componentSetting.unit?12e5:"minute"===t.componentSetting.unit?3e4:432e5));let i;function s(){e.value=o(),"天"!==t.componentSetting.unit&&(i&&clearInterval(i),i=window.setInterval((()=>{e.value=o()}),a.value))}d((()=>s())),S((()=>window.clearInterval(i))),g((()=>[t.componentSetting,t.componentSetting.eventName,t.componentSetting.unit]),(()=>{s()}));const c=u((()=>r(t.componentSetting.position)));return{num:e,positionCSS:c}}}),C={key:0,class:"box"},I={key:0,class:"event-name"},U={class:"event-content"},F={class:"num"},k={class:"unit"};var z=c(h,[["render",function(t,e,n,o,a,s){const c=v("Unset");return O(),f("div",{class:"wrapper",style:x(i({fontSize:t.componentSetting.textFontSize+"px",color:t.componentSetting.textColor,textShadow:t.componentSetting.textShadow,padding:t.componentSetting.padding+"px",fontFamily:t.componentSetting.fontFamily},t.positionCSS))},[t.componentSetting.eventTime?(O(),f("div",C,[t.componentSetting.eventName?(O(),f("div",I,y(t.componentSetting.eventName),1)):b("",!0),w("div",U,[w("div",F,y(t.num),1),w("div",k,y(t.componentSetting.unit),1)])])):(O(),j(c,{key:1,tips:"💫未配置目标时间，请进行配置"}))],4)}],["__scopeId","data-v-e18fc9f0"]]);export{z as default};
