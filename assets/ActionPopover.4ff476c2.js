import{_ as e,d as t,r as a,G as o,H as s,B as l,c as i,g as n,w as c,I as u,J as d,o as p,k as v,y as r,x as h,K as f,n as g,z as m,A as x,f as k}from"./index.0694e80e.js";import{g as y}from"./direction.933aa86d.js";const w=[(e=>(m("data-v-709ad391"),e=e(),x(),e))((()=>k("i",{class:"el-icon-close"},null,-1)))];var C=e(t({props:{popoverCustomClass:{type:String},closeOnClickOutside:{type:Boolean,default:!0}},emits:["opend","closed"],setup(e,{expose:t,emit:m}){const x=e,k=a(!1),C=a(!1),O=a(""),$=a();o((()=>{document.addEventListener("click",_)})),s((()=>{document.removeEventListener("click",_)}));const _=e=>{x.closeOnClickOutside&&k.value&&!$.value.contains(e.target)&&(k.value=!1)},T=a({width:200,height:200,top:0,left:0}),I=async(e,t)=>{setTimeout((()=>{if(!e.actionSetting)return;const{actionSetting:a}=e,{actionType:o,actionClickType:s,actionClickValue:l}=a;if(1===o&&1===s){const{w:e,h:a,direction:o}=l,[s,i,n,c]=y(t,{width:e||200,height:a||200},o);T.value={width:e||200,height:a||200,left:s,top:i},O.value=`${n-s}px ${c-i}px`,k.value=!0,C.value=0===o}}))},S=()=>{k.value=!1,C.value=!1};return l((()=>k.value),(e=>{m(e?"opend":"closed")})),t({open:I,close:S,toggle:(e,t)=>{k.value?S():I(e,t)},defaultOpen:({w:e,h:t,direction:a},o)=>{setTimeout((()=>{const[s,l,i,n]=y(o,{width:e||200,height:t||200},a);T.value={width:e||200,height:t||200,left:s,top:l},O.value=`${i-s}px ${n-l}px`,k.value=!0,C.value=0===a}))}}),(t,a)=>(p(),i(d,{to:"body"},[n(u,{name:"zoomIn"},{default:c((()=>[k.value?(p(),v("div",{key:0,ref_key:"actionPopover",ref:$,class:f(["action-popover",e.popoverCustomClass]),style:g({width:T.value.width+"px",height:T.value.height+"px",top:T.value.top+"px",left:T.value.left+"px",transformOrigin:O.value})},[r(t.$slots,"default",{},void 0,!0),C.value?(p(),v("div",{key:0,class:"close",onClick:S},w)):h("",!0)],6)):h("",!0)])),_:3})]))}}),[["__scopeId","data-v-709ad391"]]);export{C as default};
