var t=Object.defineProperty,e=Object.getOwnPropertySymbols,o=Object.prototype.hasOwnProperty,n=Object.prototype.propertyIsEnumerable,i=(e,o,n)=>o in e?t(e,o,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[o]=n,s=(t,s)=>{for(var a in s||(s={}))o.call(s,a)&&i(t,a,s[a]);if(e)for(var a of e(s))n.call(s,a)&&i(t,a,s[a]);return t};import{_ as a,d as l,r,f as c,e as d,w as p,c as g,a as m,g as u,n as v,F as y,q as w,m as h,x as S,y as f,o as b,b as x,t as k,l as j}from"./index.b0ad8e4b.js";const O=l({name:"JueJin",props:{componentSetting:{type:Object,required:!0}},setup(t){const e=r([]),o=r(!1),n=r(!1),i=async()=>{try{o.value=!0,n.value=!1;const i=await fetch(`${j}/api/weiboList`),{list:s}=await i.json();e.value=s.map((t=>({num:t.pic,id:t.desc,title:t.desc,icon:t.icon,link:t.scheme,count:~~(t.desc_extr/1e4)}))).slice(0,t.componentSetting.limit)}catch(i){n.value=!0,console.error(i)}finally{o.value=!1}};let s;function a(){i(),s&&window.clearInterval(s),s=window.setInterval((()=>{i()}),60*t.componentSetting.duration*1e3)}c((()=>a())),d((()=>window.clearInterval(s))),p((()=>[t.componentSetting.duration,t.componentSetting.limit]),(()=>a()));const l=g((()=>h(t.componentSetting.position)));return{logo:"https://h5.sinaimg.cn/m/weibo-lite/img/pwalogo.417d1674.svg",list:e,positionCSS:l,loading:o,error:n}}}),I={class:"weibo"},_={class:"logo"},F=["src"],C=(t=>(S("data-v-2488de9c"),t=t(),f(),t))((()=>u("div",{class:"logo-text"},"微博热搜",-1))),L={key:0,class:"loading"},P={key:1,class:"error"},$={key:2,class:"list"},q={class:"num",style:{width:"24px",height:"24px"}},z=["src"],J={class:"title"},E=["href"],W={key:0,class:"count"},A={class:"icon",style:{width:"24px",height:"24px"}},B=["src"];var D=a(O,[["render",function(t,e,o,n,i,a){return b(),m("div",{class:"wrapper",style:v(s({fontSize:t.componentSetting.textFontSize+"px",color:t.componentSetting.textColor,textShadow:t.componentSetting.textShadow,padding:t.componentSetting.padding+"px",fontFamily:t.componentSetting.fontFamily},t.positionCSS))},[u("div",I,[u("div",_,[u("img",{src:t.logo,alt:"Weibo",style:v({filter:`drop-shadow(${t.componentSetting.iconShadow})`})},null,12,F),C]),t.loading?(b(),m("div",L,"Loading...")):t.error?(b(),m("div",P,"Something error!")):(b(),m("div",$,[(b(!0),m(y,null,w(t.list,(e=>(b(),m("div",{class:"list-item",key:e.id},[u("div",q,[e.num?(b(),m("img",{key:0,src:e.num,style:{width:"100%",height:"100%"}},null,8,z)):x("",!0)]),u("div",J,[u("a",{href:e.link,target:"_blank",style:v(!t.$store.state.isLock&&"pointer-events: none")},k(e.title),13,E)]),e.count?(b(),m("div",W,k(e.count)+"w",1)):x("",!0),u("div",A,[e.icon?(b(),m("img",{key:0,src:e.icon,style:{width:"100%",height:"100%"}},null,8,B)):x("",!0)])])))),128))]))])],4)}],["__scopeId","data-v-2488de9c"]]);export{D as default};
