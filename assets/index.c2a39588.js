var e,t,n,i=Object.defineProperty,o=Object.defineProperties,a=Object.getOwnPropertyDescriptors,l=Object.getOwnPropertySymbols,r=Object.prototype.hasOwnProperty,s=Object.prototype.propertyIsEnumerable,c=(e,t,n)=>t in e?i(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,u=(e,t)=>{for(var n in t||(t={}))r.call(t,n)&&c(e,n,t[n]);if(l)for(var n of l(t))s.call(t,n)&&c(e,n,t[n]);return e};import{_ as d,d as f,r as p,a as h,L as m,B as v,b as g,o as y,c as b,w as k,f as w,g as x,C as S,x as C,k as D,F as E,l as T,s as O,v as N,a3 as z,n as P,V,P as _,t as A,a4 as L,z as M,A as j,a0 as B,a5 as I,u as H,G as $,H as R,a6 as J,a1 as F,R as U,K as Z}from"./index.d70cc6c4.js";import{D as q}from"./vuedraggable.umd.1c54be07.js";import{a as W,b as Y,c as X}from"./images.84a89951.js";import G from"./ActionPopover.3d37d2a2.js";import"./direction.933aa86d.js";var K,Q,ee=[],te=ee.concat,ne=ee.filter,ie=ee.slice,oe=window.document,ae={},le={},re={"column-count":1,columns:1,"font-weight":1,"line-height":1,opacity:1,"z-index":1,zoom:1},se=/^\s*<(\w+|!)[^>]*>/,ce=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,ue=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,de=/^(?:body|html)$/i,fe=/([A-Z])/g,pe=["val","css","html","text","data","width","height","offset"],he=oe.createElement("table"),me=oe.createElement("tr"),ve={tr:oe.createElement("tbody"),tbody:he,thead:he,tfoot:he,td:me,th:me,"*":oe.createElement("div")},ge=/^[\w-]*$/,ye={},be=ye.toString,ke={},we=oe.createElement("div"),xe={tabindex:"tabIndex",readonly:"readOnly",for:"htmlFor",class:"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},Se=Array.isArray||function(e){return e instanceof Array};function Ce(e){return null==e?String(e):ye[be.call(e)]||"object"}function De(e){return"function"==Ce(e)}function Ee(e){return null!=e&&e==e.window}function Te(e){return null!=e&&e.nodeType==e.DOCUMENT_NODE}function Oe(e){return"object"==Ce(e)}function Ne(e){return Oe(e)&&!Ee(e)&&Object.getPrototypeOf(e)==Object.prototype}function ze(e){var n=!!e&&"length"in e&&e.length,i=t.type(e);return"function"!=i&&!Ee(e)&&("array"==i||0===n||"number"==typeof n&&n>0&&n-1 in e)}function Pe(e){return e.replace(/::/g,"/").replace(/([A-Z]+)([A-Z][a-z])/g,"$1_$2").replace(/([a-z\d])([A-Z])/g,"$1_$2").replace(/_/g,"-").toLowerCase()}function Ve(e){return e in le?le[e]:le[e]=new RegExp("(^|\\s)"+e+"(\\s|$)")}function _e(e,t){return"number"!=typeof t||re[Pe(e)]?t:t+"px"}function Ae(e){return"children"in e?ie.call(e.children):t.map(e.childNodes,(function(e){if(1==e.nodeType)return e}))}function Le(e,t){var n,i=e?e.length:0;for(n=0;n<i;n++)this[n]=e[n];this.length=i,this.selector=t||""}function Me(t,n,i){for(e in n)i&&(Ne(n[e])||Se(n[e]))?(Ne(n[e])&&!Ne(t[e])&&(t[e]={}),Se(n[e])&&!Se(t[e])&&(t[e]=[]),Me(t[e],n[e],i)):undefined!==n[e]&&(t[e]=n[e])}function je(e,n){return null==n?t(e):t(e).filter(n)}function Be(e,t,n,i){return De(t)?t.call(e,n,i):t}function Ie(e,t,n){null==n?e.removeAttribute(t):e.setAttribute(t,n)}function He(e,t){var n=e.className||"",i=n&&undefined!==n.baseVal;if(undefined===t)return i?n.baseVal:n;i?n.baseVal=t:e.className=t}function $e(e){try{return e?"true"==e||"false"!=e&&("null"==e?null:+e+""==e?+e:/^[\[\{]/.test(e)?t.parseJSON(e):e):e}catch(n){return e}}function Re(e,t){t(e);for(var n=0,i=e.childNodes.length;n<i;n++)Re(e.childNodes[n],t)}ke.matches=function(e,t){if(!t||!e||1!==e.nodeType)return!1;var n,i=e.matches||e.webkitMatchesSelector||e.mozMatchesSelector||e.oMatchesSelector||e.matchesSelector;if(i)return i.call(e,t);var o=e.parentNode,a=!o;return a&&(o=we).appendChild(e),n=~ke.qsa(o,t).indexOf(e),a&&we.removeChild(e),n},K=function(e){return e.replace(/-+(.)?/g,(function(e,t){return t?t.toUpperCase():""}))},Q=function(e){return ne.call(e,(function(t,n){return e.indexOf(t)==n}))},ke.fragment=function(e,n,i){var o,a,l;return ce.test(e)&&(o=t(oe.createElement(RegExp.$1))),o||(e.replace&&(e=e.replace(ue,"<$1></$2>")),undefined===n&&(n=se.test(e)&&RegExp.$1),n in ve||(n="*"),(l=ve[n]).innerHTML=""+e,o=t.each(ie.call(l.childNodes),(function(){l.removeChild(this)}))),Ne(i)&&(a=t(o),t.each(i,(function(e,t){pe.indexOf(e)>-1?a[e](t):a.attr(e,t)}))),o},ke.Z=function(e,t){return new Le(e,t)},ke.isZ=function(e){return e instanceof ke.Z},ke.init=function(e,n){var i,o;if(!e)return ke.Z();if("string"==typeof e)if("<"==(e=e.trim())[0]&&se.test(e))i=ke.fragment(e,RegExp.$1,n),e=null;else{if(undefined!==n)return t(n).find(e);i=ke.qsa(oe,e)}else{if(De(e))return t(oe).ready(e);if(ke.isZ(e))return e;if(Se(e))o=e,i=ne.call(o,(function(e){return null!=e}));else if(Oe(e))i=[e],e=null;else if(se.test(e))i=ke.fragment(e.trim(),RegExp.$1,n),e=null;else{if(undefined!==n)return t(n).find(e);i=ke.qsa(oe,e)}}return ke.Z(i,e)},(t=function(e,t){return ke.init(e,t)}).extend=function(e){var t,n=ie.call(arguments,1);return"boolean"==typeof e&&(t=e,e=n.shift()),n.forEach((function(n){Me(e,n,t)})),e},ke.qsa=function(e,t){var n,i="#"==t[0],o=!i&&"."==t[0],a=i||o?t.slice(1):t,l=ge.test(a);return e.getElementById&&l&&i?(n=e.getElementById(a))?[n]:[]:1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType?[]:ie.call(l&&!i&&e.getElementsByClassName?o?e.getElementsByClassName(a):e.getElementsByTagName(t):e.querySelectorAll(t))},t.contains=oe.documentElement.contains?function(e,t){return e!==t&&e.contains(t)}:function(e,t){for(;t&&(t=t.parentNode);)if(t===e)return!0;return!1},t.type=Ce,t.isFunction=De,t.isWindow=Ee,t.isArray=Se,t.isPlainObject=Ne,t.isEmptyObject=function(e){var t;for(t in e)return!1;return!0},t.isNumeric=function(e){var t=Number(e),n=typeof e;return null!=e&&"boolean"!=n&&("string"!=n||e.length)&&!isNaN(t)&&isFinite(t)||!1},t.inArray=function(e,t,n){return ee.indexOf.call(t,e,n)},t.camelCase=K,t.trim=function(e){return null==e?"":String.prototype.trim.call(e)},t.uuid=0,t.support={},t.expr={},t.noop=function(){},t.map=function(e,n){var i,o,a,l,r=[];if(ze(e))for(o=0;o<e.length;o++)null!=(i=n(e[o],o))&&r.push(i);else for(a in e)null!=(i=n(e[a],a))&&r.push(i);return(l=r).length>0?t.fn.concat.apply([],l):l},t.each=function(e,t){var n,i;if(ze(e)){for(n=0;n<e.length;n++)if(!1===t.call(e[n],n,e[n]))return e}else for(i in e)if(!1===t.call(e[i],i,e[i]))return e;return e},t.grep=function(e,t){return ne.call(e,t)},window.JSON&&(t.parseJSON=JSON.parse),t.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),(function(e,t){ye["[object "+t+"]"]=t.toLowerCase()})),t.fn={constructor:ke.Z,length:0,forEach:ee.forEach,reduce:ee.reduce,push:ee.push,sort:ee.sort,splice:ee.splice,indexOf:ee.indexOf,concat:function(){var e,t,n=[];for(e=0;e<arguments.length;e++)t=arguments[e],n[e]=ke.isZ(t)?t.toArray():t;return te.apply(ke.isZ(this)?this.toArray():this,n)},map:function(e){return t(t.map(this,(function(t,n){return e.call(t,n,t)})))},slice:function(){return t(ie.apply(this,arguments))},ready:function(e){if("complete"===oe.readyState||"loading"!==oe.readyState&&!oe.documentElement.doScroll)setTimeout((function(){e(t)}),0);else{var n=function(){oe.removeEventListener("DOMContentLoaded",n,!1),window.removeEventListener("load",n,!1),e(t)};oe.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)}return this},get:function(e){return undefined===e?ie.call(this):this[e>=0?e:e+this.length]},toArray:function(){return this.get()},size:function(){return this.length},remove:function(){return this.each((function(){null!=this.parentNode&&this.parentNode.removeChild(this)}))},each:function(e){return ee.every.call(this,(function(t,n){return!1!==e.call(t,n,t)})),this},filter:function(e){return De(e)?this.not(this.not(e)):t(ne.call(this,(function(t){return ke.matches(t,e)})))},add:function(e,n){return t(Q(this.concat(t(e,n))))},is:function(e){return"string"==typeof e?this.length>0&&ke.matches(this[0],e):e&&this.selector==e.selector},not:function(e){var n=[];if(De(e)&&undefined!==e.call)this.each((function(t){e.call(this,t)||n.push(this)}));else{var i="string"==typeof e?this.filter(e):ze(e)&&De(e.item)?ie.call(e):t(e);this.forEach((function(e){i.indexOf(e)<0&&n.push(e)}))}return t(n)},has:function(e){return this.filter((function(){return Oe(e)?t.contains(this,e):t(this).find(e).size()}))},eq:function(e){return-1===e?this.slice(e):this.slice(e,+e+1)},first:function(){var e=this[0];return e&&!Oe(e)?e:t(e)},last:function(){var e=this[this.length-1];return e&&!Oe(e)?e:t(e)},find:function(e){var n=this;return e?"object"==typeof e?t(e).filter((function(){var e=this;return ee.some.call(n,(function(n){return t.contains(n,e)}))})):1==this.length?t(ke.qsa(this[0],e)):this.map((function(){return ke.qsa(this,e)})):t()},closest:function(e,n){var i=[],o="object"==typeof e&&t(e);return this.each((function(t,a){for(;a&&!(o?o.indexOf(a)>=0:ke.matches(a,e));)a=a!==n&&!Te(a)&&a.parentNode;a&&i.indexOf(a)<0&&i.push(a)})),t(i)},parents:function(e){for(var n=[],i=this;i.length>0;)i=t.map(i,(function(e){if((e=e.parentNode)&&!Te(e)&&n.indexOf(e)<0)return n.push(e),e}));return je(n,e)},parent:function(e){return je(Q(this.pluck("parentNode")),e)},children:function(e){return je(this.map((function(){return Ae(this)})),e)},contents:function(){return this.map((function(){return this.contentDocument||ie.call(this.childNodes)}))},siblings:function(e){return je(this.map((function(e,t){return ne.call(Ae(t.parentNode),(function(e){return e!==t}))})),e)},empty:function(){return this.each((function(){this.innerHTML=""}))},pluck:function(e){return t.map(this,(function(t){return t[e]}))},show:function(){return this.each((function(){var e,t,n;"none"==this.style.display&&(this.style.display=""),"none"==getComputedStyle(this,"").getPropertyValue("display")&&(this.style.display=(e=this.nodeName,ae[e]||(t=oe.createElement(e),oe.body.appendChild(t),n=getComputedStyle(t,"").getPropertyValue("display"),t.parentNode.removeChild(t),"none"==n&&(n="block"),ae[e]=n),ae[e]))}))},replaceWith:function(e){return this.before(e).remove()},wrap:function(e){var n=De(e);if(this[0]&&!n)var i=t(e).get(0),o=i.parentNode||this.length>1;return this.each((function(a){t(this).wrapAll(n?e.call(this,a):o?i.cloneNode(!0):i)}))},wrapAll:function(e){if(this[0]){var n;for(t(this[0]).before(e=t(e));(n=e.children()).length;)e=n.first();t(e).append(this)}return this},wrapInner:function(e){var n=De(e);return this.each((function(i){var o=t(this),a=o.contents(),l=n?e.call(this,i):e;a.length?a.wrapAll(l):o.append(l)}))},unwrap:function(){return this.parent().each((function(){t(this).replaceWith(t(this).children())})),this},clone:function(){return this.map((function(){return this.cloneNode(!0)}))},hide:function(){return this.css("display","none")},toggle:function(e){return this.each((function(){var n=t(this);(undefined===e?"none"==n.css("display"):e)?n.show():n.hide()}))},prev:function(e){return t(this.pluck("previousElementSibling")).filter(e||"*")},next:function(e){return t(this.pluck("nextElementSibling")).filter(e||"*")},html:function(e){return 0 in arguments?this.each((function(n){var i=this.innerHTML;t(this).empty().append(Be(this,e,n,i))})):0 in this?this[0].innerHTML:null},text:function(e){return 0 in arguments?this.each((function(t){var n=Be(this,e,t,this.textContent);this.textContent=null==n?"":""+n})):0 in this?this.pluck("textContent").join(""):null},attr:function(t,n){var i;return"string"!=typeof t||1 in arguments?this.each((function(i){if(1===this.nodeType)if(Oe(t))for(e in t)Ie(this,e,t[e]);else Ie(this,t,Be(this,n,i,this.getAttribute(t)))})):0 in this&&1==this[0].nodeType&&null!=(i=this[0].getAttribute(t))?i:undefined},removeAttr:function(e){return this.each((function(){1===this.nodeType&&e.split(" ").forEach((function(e){Ie(this,e)}),this)}))},prop:function(t,n){return"string"!=typeof(t=xe[t]||t)||1 in arguments?this.each((function(i){if(Oe(t))for(e in t)this[xe[e]||e]=t[e];else this[t]=Be(this,n,i,this[t])})):this[0]&&this[0][t]},removeProp:function(e){return e=xe[e]||e,this.each((function(){delete this[e]}))},data:function(e,t){var n="data-"+e.replace(fe,"-$1").toLowerCase(),i=1 in arguments?this.attr(n,t):this.attr(n);return null!==i?$e(i):undefined},val:function(e){return 0 in arguments?(null==e&&(e=""),this.each((function(t){this.value=Be(this,e,t,this.value)}))):this[0]&&(this[0].multiple?t(this[0]).find("option").filter((function(){return this.selected})).pluck("value"):this[0].value)},offset:function(e){if(e)return this.each((function(n){var i=t(this),o=Be(this,e,n,i.offset()),a=i.offsetParent().offset(),l={top:o.top-a.top,left:o.left-a.left};"static"==i.css("position")&&(l.position="relative"),i.css(l)}));if(!this.length)return null;if(oe.documentElement!==this[0]&&!t.contains(oe.documentElement,this[0]))return{top:0,left:0};var n=this[0].getBoundingClientRect();return{left:n.left+window.pageXOffset,top:n.top+window.pageYOffset,width:Math.round(n.width),height:Math.round(n.height)}},css:function(n,i){if(arguments.length<2){var o=this[0];if("string"==typeof n){if(!o)return;return o.style[K(n)]||getComputedStyle(o,"").getPropertyValue(n)}if(Se(n)){if(!o)return;var a={},l=getComputedStyle(o,"");return t.each(n,(function(e,t){a[t]=o.style[K(t)]||l.getPropertyValue(t)})),a}}var r="";if("string"==Ce(n))i||0===i?r=Pe(n)+":"+_e(n,i):this.each((function(){this.style.removeProperty(Pe(n))}));else for(e in n)n[e]||0===n[e]?r+=Pe(e)+":"+_e(e,n[e])+";":this.each((function(){this.style.removeProperty(Pe(e))}));return this.each((function(){this.style.cssText+=";"+r}))},index:function(e){return e?this.indexOf(t(e)[0]):this.parent().children().indexOf(this[0])},hasClass:function(e){return!!e&&ee.some.call(this,(function(e){return this.test(He(e))}),Ve(e))},addClass:function(e){return e?this.each((function(i){if("className"in this){n=[];var o=He(this);Be(this,e,i,o).split(/\s+/g).forEach((function(e){t(this).hasClass(e)||n.push(e)}),this),n.length&&He(this,o+(o?" ":"")+n.join(" "))}})):this},removeClass:function(e){return this.each((function(t){if("className"in this){if(undefined===e)return He(this,"");n=He(this),Be(this,e,t,n).split(/\s+/g).forEach((function(e){n=n.replace(Ve(e)," ")})),He(this,n.trim())}}))},toggleClass:function(e,n){return e?this.each((function(i){var o=t(this);Be(this,e,i,He(this)).split(/\s+/g).forEach((function(e){(undefined===n?!o.hasClass(e):n)?o.addClass(e):o.removeClass(e)}))})):this},scrollTop:function(e){if(this.length){var t="scrollTop"in this[0];return undefined===e?t?this[0].scrollTop:this[0].pageYOffset:this.each(t?function(){this.scrollTop=e}:function(){this.scrollTo(this.scrollX,e)})}},scrollLeft:function(e){if(this.length){var t="scrollLeft"in this[0];return undefined===e?t?this[0].scrollLeft:this[0].pageXOffset:this.each(t?function(){this.scrollLeft=e}:function(){this.scrollTo(e,this.scrollY)})}},position:function(){if(this.length){var e=this[0],n=this.offsetParent(),i=this.offset(),o=de.test(n[0].nodeName)?{top:0,left:0}:n.offset();return i.top-=parseFloat(t(e).css("margin-top"))||0,i.left-=parseFloat(t(e).css("margin-left"))||0,o.top+=parseFloat(t(n[0]).css("border-top-width"))||0,o.left+=parseFloat(t(n[0]).css("border-left-width"))||0,{top:i.top-o.top,left:i.left-o.left}}},offsetParent:function(){return this.map((function(){for(var e=this.offsetParent||oe.body;e&&!de.test(e.nodeName)&&"static"==t(e).css("position");)e=e.offsetParent;return e}))}},t.fn.detach=t.fn.remove,["width","height"].forEach((function(e){var n=e.replace(/./,(function(e){return e[0].toUpperCase()}));t.fn[e]=function(i){var o,a=this[0];return undefined===i?Ee(a)?a["inner"+n]:Te(a)?a.documentElement["scroll"+n]:(o=this.offset())&&o[e]:this.each((function(n){(a=t(this)).css(e,Be(this,i,n,a[e]()))}))}})),["after","prepend","before","append"].forEach((function(e,n){var i=n%2;t.fn[e]=function(){var e,o,a=t.map(arguments,(function(n){var i=[];return"array"==(e=Ce(n))?(n.forEach((function(e){return undefined!==e.nodeType?i.push(e):t.zepto.isZ(e)?i=i.concat(e.get()):void(i=i.concat(ke.fragment(e)))})),i):"object"==e||null==n?n:ke.fragment(n)})),l=this.length>1;return a.length<1?this:this.each((function(e,r){o=i?r:r.parentNode,r=0==n?r.nextSibling:1==n?r.firstChild:2==n?r:null;var s=t.contains(oe.documentElement,o);a.forEach((function(e){if(l)e=e.cloneNode(!0);else if(!o)return t(e).remove();o.insertBefore(e,r),s&&Re(e,(function(e){if(!(null==e.nodeName||"SCRIPT"!==e.nodeName.toUpperCase()||e.type&&"text/javascript"!==e.type||e.src)){var t=e.ownerDocument?e.ownerDocument.defaultView:window;t.eval.call(t,e.innerHTML)}}))}))}))},t.fn[i?e+"To":"insert"+(n?"Before":"After")]=function(n){return t(n)[e](this),this}})),ke.Z.prototype=Le.prototype=t.fn,ke.uniq=Q,ke.deserializeValue=$e,t.zepto=ke;var Je=t;const Fe=e=>(M("data-v-7ba28924"),e=e(),j(),e),Ue=O("图标"),Ze=O("文件夹"),qe=O("从Chrome书签导入"),We={class:"form-control"},Ye=["src"],Xe=["src"],Ge={key:3,class:"img-loading"},Ke=["width","height"],Qe=[Fe((()=>w("path",{d:"M948.079775 106.337352H460.223099S394.153465 1.788394 355.688563 1.788394H181.435493a69.68969 69.68969 0 0 0-69.68969 69.704113v801.474704a69.718535 69.718535 0 0 0 69.68969 69.68969h766.629859a69.718535 69.718535 0 0 0 69.68969-69.68969V176.027042a69.718535 69.718535 0 0 0-69.68969-69.68969z",fill:"#D0994B"},null,-1))),Fe((()=>w("path",{d:"M111.745803 210.871887h906.023662v278.787606H111.745803z",fill:"#E4E7E7"},null,-1))),Fe((()=>w("path",{d:"M76.900958 280.561577h975.713352a69.68969 69.68969 0 0 1 69.704113 69.704113L1052.628732 942.656901a69.718535 69.718535 0 0 1-69.704112 69.689691H146.60507a69.718535 69.718535 0 0 1-69.704112-69.689691L7.211268 350.26569a69.68969 69.68969 0 0 1 69.68969-69.704113z",fill:"#F4B459"},null,-1)))],et={key:0,class:"transform-tips"},tt={key:1,class:"transform-bookmark-wrapper"},nt={key:0,class:"details"},it={key:1,class:"title"},ot={class:"footer",style:{"text-align":"right",padding:"12px"}},at=["loading"];var lt=d(f({props:{boxSize:String,boxRadius:String,iconSize:String},emits:["add","edit","import"],setup(e,{expose:t,emit:n}){const i=[{label:"API获取",value:"api"},{label:"文字图标",value:"text"},{label:"网络图片",value:"network"}],o=p(),a=p(),l=p(""),r=p(!0),s=p(!1),c=p(!1),d=h({formData:{id:"",type:"icon",title:"",url:"",iconType:"api",iconPath:"",bgColor:"rgba(241, 243, 244, 1)",children:[]},formRules:{title:[{required:!0,message:"请输入标题",trigger:"blur"}],url:[{required:!0,message:"请输入网站地址",trigger:"blur"}],iconType:[{required:!0,message:"请选择图标类型",trigger:"change"}],iconPath:[{validator:function(e,t,n){"network"!==d.formData.iconType||t?n():n(new Error("请输入图标地址"))},trigger:"blur"}]}}),f=p();const M=m((()=>"api"===d.formData.iconType&&l.value||"network"===d.formData.iconType&&d.formData.iconPath||"text"===d.formData.iconType&&d.formData.title)),j=()=>{var e;d.formData.url?((null==(e=d.formData.iconPath)?void 0:e.includes("data:image"))&&(d.formData.iconType="api",d.formData.iconPath=""),l.value=W(d.formData.url),fetch(`${V}/api/title?url=${encodeURIComponent(d.formData.url.replace(/http(s)?:\/\//,""))}`).then((e=>e.json())).then((e=>{d.formData.title||(d.formData.title=e.title)}))):l.value=""};v((()=>l.value),(e=>{c.value=!!e}));const B=()=>{"text"===d.formData.iconType?d.formData.iconPath="rgba(48,50,56,1)":d.formData.iconPath="",d.formData.url&&"api"===d.formData.iconType&&(l.value=W(d.formData.url))},I=()=>{a.value.validate((async e=>{if(!e)return!1;if(s.value=!0,"icon"===d.formData.type)try{if(r.value&&"api"===d.formData.iconType&&l.value&&d.formData.url){const e=await Y(W(d.formData.url),"image/x-icon");d.formData.iconType="network",d.formData.iconPath=e}else"api"===d.formData.iconType&&l.value&&d.formData.url&&(d.formData.iconType="network",d.formData.iconPath=await X(d.formData.url))}catch{_({title:"提示",type:"error",message:"无法获取到图标，使用文字图标代替"}),d.formData.iconType="text",d.formData.iconPath="rgba(52,54,62,1)"}if("file"===d.formData.type){if(!J.value||0===J.value.length)return;n("import",A(J.value))}else d.formData.id?n("edit",u({},JSON.parse(JSON.stringify(d.formData))),A(f.value)):(d.formData.id=L(),n("add",u({},JSON.parse(JSON.stringify(d.formData))),A(f.value)));s.value=!1,$()}))},H=()=>{a.value.resetFields(),l.value="",d.formData={id:"",type:"icon",title:"",url:"",iconType:"api",iconPath:"",bgColor:"rgba(241, 243, 244, 1)",children:[]},f.value=null,J.value=[]},$=()=>{H(),o.value.close()},R=p(),J=p([]),F=()=>{R.value.click(),R.value.onchange=e=>{const t=()=>{_({title:"异常",type:"error",message:"识别文件错误，请检查文件"})},n=e.currentTarget;if(n){const{files:e}=n,i=new FileReader;i.readAsText(e[0],"UTF-8"),i.onload=e=>{var n;const i=null==(n=e.target)?void 0:n.result;try{const e=Je(i).children("dt").first().children("dl").children("dt"),n=[];e.map(((e,t)=>{if(1===Je(t).children().length){const e=Je(t).children("a").text(),i=Je(t).children("a").attr("href"),o=Je(t).children("a").attr("icon");n.push({title:e,href:i,icon:o})}else if(3===Je(t).children().length){const e=Je(t).children("h3").text(),i=[];Je(t).children("dl").children("dt").map(((e,t)=>{if(1===Je(t).children().length){const e=Je(t).children("a").text(),n=Je(t).children("a").attr("href"),o=Je(t).children("a").attr("icon");i.push({title:e,href:n,icon:o})}})),n.push({title:e,children:i})}})),n&&0!==n.length?J.value=n:t()}catch{t()}},i.onerror=()=>t()}}};return t({open:(e,t)=>{s.value=!1,e&&(d.formData={id:e.id,type:e.type,title:e.title,url:e.url,iconType:e.iconType,iconPath:e.iconPath,bgColor:e.bgColor,children:e.children||[]}),t&&(f.value=t),o.value.open()},close:H}),(t,n)=>{const u=g("el-radio"),p=g("el-radio-group"),h=g("el-form-item"),m=g("el-input"),v=g("el-switch"),V=g("el-form"),_=g("animation-dialog");return y(),b(_,{ref_key:"dialog",ref:o,customWrapperClass:"backdrop-blur bookmark-config-dialog",animationMode:"",title:S(d).formData.id?"编辑书签":"添加书签",width:"min(480px, 98vw)",height:"min(520px, 90vh)",closeOnClickOutside:!1,listenWindowSizeChange:!0,appendToBody:"","animation-in":"flipInY",onClose:H},{footer:k((()=>[w("div",ot,[w("button",{type:"button",class:"btn",onClick:$},"取消"),w("button",{type:"button",class:"btn btn-primary",loading:s.value,onClick:I},"确认",8,at)])])),default:k((()=>[x(V,{ref_key:"form",ref:a,"label-width":"100px",model:S(d).formData,rules:S(d).formRules},{default:k((()=>[x(h,{label:"类型"},{default:k((()=>[x(p,{modelValue:S(d).formData.type,"onUpdate:modelValue":n[0]||(n[0]=e=>S(d).formData.type=e),disabled:!!S(d).formData.id},{default:k((()=>[x(u,{label:"icon"},{default:k((()=>[Ue])),_:1}),x(u,{label:"folder",disabled:!!f.value},{default:k((()=>[Ze])),_:1},8,["disabled"]),x(u,{label:"file",disabled:!!f.value},{default:k((()=>[qe])),_:1},8,["disabled"])])),_:1},8,["modelValue","disabled"])])),_:1}),"icon"===S(d).formData.type?(y(),b(h,{key:0,label:"网站地址",prop:"url"},{default:k((()=>[w("div",We,[x(m,{modelValue:S(d).formData.url,"onUpdate:modelValue":n[1]||(n[1]=e=>S(d).formData.url=e),placeholder:"请输入网站地址",onBlur:j},null,8,["modelValue"])])])),_:1})):C("",!0),"file"!==S(d).formData.type?(y(),b(h,{key:1,label:"icon"===S(d).formData.type?"网站名称":"文件夹名称",prop:"title"},{default:k((()=>[x(m,{modelValue:S(d).formData.title,"onUpdate:modelValue":n[2]||(n[2]=e=>S(d).formData.title=e),placeholder:"icon"===S(d).formData.type?"请输入网站名称":"请输入文件夹名称"},null,8,["modelValue","placeholder"])])),_:1},8,["label"])):C("",!0),"icon"===S(d).formData.type?(y(),D(E,{key:2},[x(h,{label:"网站图标",prop:"iconType"},{default:k((()=>[x(p,{modelValue:S(d).formData.iconType,"onUpdate:modelValue":n[3]||(n[3]=e=>S(d).formData.iconType=e),onChange:B},{default:k((()=>[(y(),D(E,null,T(i,(e=>x(u,{label:e.value,key:e.value},{default:k((()=>[O(N(e.label),1)])),_:2},1032,["label"]))),64))])),_:1},8,["modelValue"])])),_:1}),"network"===S(d).formData.iconType?(y(),b(h,{key:0,label:"图标地址",prop:"iconPath"},{default:k((()=>[x(m,{modelValue:S(d).formData.iconPath,"onUpdate:modelValue":n[4]||(n[4]=e=>S(d).formData.iconPath=e),placeholder:"请输入图标地址"},null,8,["modelValue"])])),_:1})):C("",!0),"text"===S(d).formData.iconType?(y(),b(h,{key:1,label:"文本颜色",prop:"iconPath"},{default:k((()=>[x(z,{"show-alpha":"",modelValue:S(d).formData.iconPath,"onUpdate:modelValue":n[5]||(n[5]=e=>S(d).formData.iconPath=e)},null,8,["modelValue"])])),_:1})):C("",!0)],64)):C("",!0),"file"!==S(d).formData.type?(y(),D(E,{key:3},[x(h,{label:"背景颜色",prop:"bgColor"},{default:k((()=>[x(z,{"show-alpha":"",modelValue:S(d).formData.bgColor,"onUpdate:modelValue":n[6]||(n[6]=e=>S(d).formData.bgColor=e)},null,8,["modelValue"])])),_:1}),x(h,{label:"图标预览"},{default:k((()=>{var t;return[w("div",{class:"icon-img-preview-box",style:P({width:e.boxSize,height:e.boxSize,borderRadius:e.boxRadius,background:S(d).formData.bgColor})},["icon"===S(d).formData.type&&S(M)?(y(),D(E,{key:0},["network"===S(d).formData.iconType?(y(),D("img",{key:0,src:S(d).formData.iconPath,style:P({width:e.iconSize,height:e.iconSize})},null,12,Ye)):C("",!0),"api"===S(d).formData.iconType&&l.value?(y(),D("img",{key:1,src:l.value,style:P({width:e.iconSize,height:e.iconSize}),onLoad:n[7]||(n[7]=e=>c.value=!1),onError:n[8]||(n[8]=e=>c.value=!1)},null,44,Xe)):C("",!0),"text"===S(d).formData.iconType?(y(),D("div",{key:2,style:P({fontSize:e.iconSize,color:S(d).formData.iconPath}),class:"no-icon"},N(null==(t=S(d).formData.title)?void 0:t.slice(0,1)),5)):C("",!0),c.value?(y(),D("div",Ge,[w("i",{class:"el-icon-loading",style:P({fontSize:e.iconSize})},null,4)])):C("",!0)],64)):C("",!0),"folder"===S(d).formData.type?(y(),D("svg",{key:1,viewBox:"0 0 1124 1024",width:(e.iconSize||"32").replace("px",""),height:(e.iconSize||"32").replace("px","")},Qe,8,Ke)):C("",!0)],4)]})),_:1})],64)):C("",!0),"icon"===S(d).formData.type?(y(),b(h,{key:4,label:"缓存图标"},{default:k((()=>[x(v,{modelValue:r.value,"onUpdate:modelValue":n[9]||(n[9]=e=>r.value=e)},null,8,["modelValue"])])),_:1})):C("",!0),"file"===S(d).formData.type?(y(),b(h,{key:5,label:"书签HTML"},{default:k((()=>[w("button",{type:"button",class:"btn btn-warning",onClick:F},"导入文件"),w("input",{type:"file",accept:".html",style:{display:"none"},ref_key:"htmlRef",ref:R},null,512),J.value.length?(y(),D("div",et,"解析书签文件成功，解析结果如下")):C("",!0),J.value.length?(y(),D("div",tt,[(y(!0),D(E,null,T(J.value,((e,t)=>(y(),D(E,{key:t},[e.children?(y(),D("details",nt,[w("summary",null,N(e.title),1),(y(!0),D(E,null,T(e.children,((e,t)=>(y(),D("div",{key:t,class:"sub-title"},N(e.title),1)))),128))])):(y(),D("div",it,N(e.title),1))],64)))),128))])):C("",!0)])),_:1})):C("",!0)])),_:1},8,["model","rules"])])),_:1},8,["title"])}}}),[["__scopeId","data-v-7ba28924"]]);const rt=e=>(M("data-v-2b1dd611"),e=e(),j(),e),st=rt((()=>w("div",{class:"folder-wrapper"},[w("svg",{viewBox:"0 0 1124 1024",width:"20",height:"20"},[w("path",{d:"M948.079775 106.337352H460.223099S394.153465 1.788394 355.688563 1.788394H181.435493a69.68969 69.68969 0 0 0-69.68969 69.704113v801.474704a69.718535 69.718535 0 0 0 69.68969 69.68969h766.629859a69.718535 69.718535 0 0 0 69.68969-69.68969V176.027042a69.718535 69.718535 0 0 0-69.68969-69.68969z",fill:"#D0994B"}),w("path",{d:"M111.745803 210.871887h906.023662v278.787606H111.745803z",fill:"#E4E7E7"}),w("path",{d:"M76.900958 280.561577h975.713352a69.68969 69.68969 0 0 1 69.704113 69.704113L1052.628732 942.656901a69.718535 69.718535 0 0 1-69.704112 69.689691H146.60507a69.718535 69.718535 0 0 1-69.704112-69.689691L7.211268 350.26569a69.68969 69.68969 0 0 1 69.68969-69.704113z",fill:"#F4B459"})]),w("div",{class:"folder-name"},"__ROOT__")],-1))),ct={class:"folder-wrapper"},ut=rt((()=>w("svg",{viewBox:"0 0 1124 1024",width:"20",height:"20"},[w("path",{d:"M948.079775 106.337352H460.223099S394.153465 1.788394 355.688563 1.788394H181.435493a69.68969 69.68969 0 0 0-69.68969 69.704113v801.474704a69.718535 69.718535 0 0 0 69.68969 69.68969h766.629859a69.718535 69.718535 0 0 0 69.68969-69.68969V176.027042a69.718535 69.718535 0 0 0-69.68969-69.68969z",fill:"#D0994B"}),w("path",{d:"M111.745803 210.871887h906.023662v278.787606H111.745803z",fill:"#E4E7E7"}),w("path",{d:"M76.900958 280.561577h975.713352a69.68969 69.68969 0 0 1 69.704113 69.704113L1052.628732 942.656901a69.718535 69.718535 0 0 1-69.704112 69.689691H146.60507a69.718535 69.718535 0 0 1-69.704112-69.689691L7.211268 350.26569a69.68969 69.68969 0 0 1 69.68969-69.704113z",fill:"#F4B459"})],-1))),dt={class:"folder-name"};var ft=d(f({props:{folderList:{type:Array,default:()=>[]}},setup(e,{expose:t}){const n=p(),i=p(!1);let o,a;const l=p("$root"),r=()=>{n.value.close()},s=()=>{a()},c=()=>{l.value&&(o(l.value),r())};return t({move:e=>(n.value.open(),i.value=!!e,new Promise(((e,t)=>{o=e,a=t})))}),(t,o)=>{const a=g("el-radio"),u=g("el-radio-group"),d=g("animation-dialog");return y(),b(d,{ref_key:"dialog",ref:n,customWrapperClass:"bookmark-move-dialog",animationMode:"",title:"选择文件夹",width:"min(280px, 90vw)",height:"min(320px, 60vh)",closeOnClickOutside:!1,listenWindowSizeChange:!0,appendToBody:"","animation-in":"flipInY",onClose:s},{footer:k((()=>[w("div",{class:"footer",style:{"text-align":"right",padding:"12px"}},[w("button",{type:"button",class:"btn",onClick:r},"取消"),w("button",{type:"button",class:"btn btn-primary",onClick:c},"确认")])])),default:k((()=>[x(u,{modelValue:l.value,"onUpdate:modelValue":o[0]||(o[0]=e=>l.value=e)},{default:k((()=>[i.value?(y(),b(a,{key:0,label:"$root"},{default:k((()=>[st])),_:1})):C("",!0),(y(!0),D(E,null,T(e.folderList,(e=>(y(),b(a,{label:e.id,key:e.id},{default:k((()=>[w("div",ct,[ut,w("div",dt,N(e.title),1)])])),_:2},1032,["label"])))),128))])),_:1},8,["modelValue"])])),_:1},512)}}}),[["__scopeId","data-v-2b1dd611"]]);const pt=e=>(M("data-v-7bd13a18"),e=e(),j(),e),ht=["onClick"],mt=["src"],vt=["width","height"],gt=[pt((()=>w("path",{d:"M948.079775 106.337352H460.223099S394.153465 1.788394 355.688563 1.788394H181.435493a69.68969 69.68969 0 0 0-69.68969 69.704113v801.474704a69.718535 69.718535 0 0 0 69.68969 69.68969h766.629859a69.718535 69.718535 0 0 0 69.68969-69.68969V176.027042a69.718535 69.718535 0 0 0-69.68969-69.68969z",fill:"#D0994B"},null,-1))),pt((()=>w("path",{d:"M111.745803 210.871887h906.023662v278.787606H111.745803z",fill:"#E4E7E7"},null,-1))),pt((()=>w("path",{d:"M76.900958 280.561577h975.713352a69.68969 69.68969 0 0 1 69.704113 69.704113L1052.628732 942.656901a69.718535 69.718535 0 0 1-69.704112 69.689691H146.60507a69.718535 69.718535 0 0 1-69.704112-69.689691L7.211268 350.26569a69.68969 69.68969 0 0 1 69.68969-69.704113z",fill:"#F4B459"},null,-1)))],yt={class:"tile-title"},bt=[pt((()=>w("div",{class:"btn-add-wrapper"},[w("i",{class:"el-icon-plus"})],-1)))],kt={key:0,class:"popover-wrapper"},wt={class:"title"},xt=["onClick"],St=["src"],Ct=[pt((()=>w("i",{class:"el-icon-plus"},null,-1)))],Dt={key:0,class:"batch-operation-wrapper"},Et=[pt((()=>w("i",{class:"el-icon-close"},null,-1)))],Tt={class:"selected-count"},Ot={class:"num"},Nt=O("项已选择"),zt={class:"operation-btn-wrapper"},Pt=[pt((()=>w("i",{class:"el-icon-position"},null,-1))),O("移动")],Vt=[pt((()=>w("i",{class:"el-icon-delete"},null,-1))),O("删除")],_t={key:0,class:"batch-operation-wrapper"},At=[pt((()=>w("i",{class:"el-icon-close"},null,-1)))],Lt={class:"selected-count"},Mt={class:"num"},jt=O("项已选择"),Bt={class:"operation-btn-wrapper"},It=[pt((()=>w("i",{class:"el-icon-position"},null,-1))),O("移动")],Ht=[pt((()=>w("i",{class:"el-icon-delete"},null,-1))),O("删除")];var $t=d(f({props:{componentSetting:{type:Object,required:!0},element:{type:Object,required:!0},isAction:{type:Boolean,default:!1}},setup(e){const t=e;B((e=>({"462642ee":S(g),e6510a28:S(b),"7a84fb49":S(c),"29f8544c":S(d),"248e80dd":S(f),"90eaef00":S(h),fd2a1c5a:S(v)})));const n=(i=u({},I),l={updated:I.mounted},o(i,a(l)));var i,l;const r=p(),s=m((()=>O.state.isLock)),c=m((()=>t.componentSetting.boxSize+"px")),d=m((()=>t.componentSetting.boxRadius+"px")),f=m((()=>t.componentSetting.iconSize+"px")),h=m((()=>t.componentSetting.textFontSize+"px")),v=m((()=>t.componentSetting.textColor)),g=m((()=>t.componentSetting.padding+"px")),b=m((()=>`${t.componentSetting.boxSize+1.5*t.componentSetting.textFontSize+2*t.componentSetting.padding+8}px`)),O=H(),z=m({get:()=>t.componentSetting.bookmark,set:e=>{const n=JSON.parse(JSON.stringify(t.element));t.isAction?(n.componentSetting.actionClickValue.componentSetting.bookmark=e,O.dispatch("updateActionElement",n)):n.componentSetting.bookmark=e,O.dispatch("editComponent",n)}}),V=p([{label:"编辑",fn:e=>{A(e.element,e.parent)},icon:"el-icon-setting"},{label:"移动",fn:e=>{ee([e.element],!1,e.parent)},hidden:e=>"folder"===e.element.type,icon:"el-icon-position"},{label:"删除",fn:e=>{ee([e.element],!0,e.parent)},icon:"el-icon-delete",customClass:"delete"},{line:!0},{label:"批量操作",icon:"el-icon-finished",fn:e=>{ue(e.parent)}}]),A=(e,t)=>r.value.open(e,t),M=e=>r.value.open(null,e),j=(e,n)=>{const i=JSON.parse(JSON.stringify(t.element)),o=t.isAction?i.componentSetting.actionClickValue.componentSetting.bookmark:i.componentSetting.bookmark;if(n){const t=o.findIndex((e=>e.id===n.id));~t&&o[t].children.push(e)}else o.push(e);O.dispatch("editComponent",i),n&&ie()},W=async(e,n)=>{const i=JSON.parse(JSON.stringify(t.element)),o=t.isAction?i.componentSetting.actionClickValue.componentSetting.bookmark:i.componentSetting.bookmark;if(n){const t=o.findIndex((e=>e.id===n.id));if(!~t)return;const i=o[t].children.findIndex((t=>t.id===e.id));~i&&(o[t].children[i]=e)}else{const t=o.findIndex((t=>t.id===e.id));~t&&(o[t]=e)}O.dispatch("editComponent",i),n&&ie()},Y=e=>{const n=e.map((e=>e.children?(e.children=e.children.map((e=>({bgColor:"rgba(241, 243, 244, 1)",iconPath:e.icon||"rgba(48,50,56,1)",iconType:e.icon?"network":"text",id:L(),title:e.title,type:"icon",url:e.href}))),{bgColor:"rgba(241, 243, 244, 1)",children:e.children,iconPath:"",iconType:"api",id:L(),title:e.title,type:"folder",url:""}):{bgColor:"rgba(241, 243, 244, 1)",children:[],iconPath:e.icon||"rgba(48,50,56,1)",iconType:e.icon?"network":"text",id:L(),title:e.title,type:"icon",url:e.href})),i=JSON.parse(JSON.stringify(t.element));(t.isAction?i.componentSetting.actionClickValue.componentSetting.bookmark:i.componentSetting.bookmark).push(...n),O.dispatch("editComponent",i)},X=(e,n)=>{if(le.value){const t=ce.value.findIndex((t=>t===e.id));~t?(se.value.splice(t,1),ce.value.splice(t,1)):(se.value.push(e),ce.value.push(e.id))}else if("icon"===e.type){let n=e.url;/https?:\/\/[-A-Za-z0-9+&@#/%?=~_|!:,.;]+[-A-Za-z0-9+&@#/%=~_|]/.test(n)||(n="https://"+n),2===t.componentSetting.jumpType?window.location.href=n:window.open(n)}else"folder"===e.type&&(ne.value.defaultOpen({w:Math.min(720,.9*window.innerWidth),h:Math.min(400,.75*window.innerHeight),direction:0},n.currentTarget),te.value=e)},K=p(),Q=m((()=>z.value.filter((e=>"folder"===e.type)))),ee=async(e,n=!1,i)=>{if(e&&0!==e.length)try{const o=JSON.parse(JSON.stringify(t.element)),a=t.isAction?o.componentSetting.actionClickValue.componentSetting.bookmark:o.componentSetting.bookmark;if(n){if(!confirm("确认要删除所选项?"))return}else{const t=await K.value.move(i);if(t===(null==i?void 0:i.id))return;if(e.filter((e=>"folder"===e.type)).length&&(_({title:"提示",message:"目前暂不支持移动文件夹"}),e=e.filter((e=>"folder"!==e.type))),"$root"===t)e.map((e=>{~a.findIndex((t=>t.id===e.id))||a.push(e)}));else{const n=a.findIndex((e=>e.id===t));~n&&e.map((e=>{~a[n].children.findIndex((t=>t.id===e.id))||a[n].children.push(e)}))}}if(i){const t=a.findIndex((e=>e.id===i.id));e.map((e=>{const n=a[t].children.findIndex((t=>t.id===e.id));~n&&a[t].children.splice(n,1)}))}else e.map((e=>{const t=a.findIndex((t=>t.id===e.id));~t&&a.splice(t,1)}));t.isAction&&O.dispatch("updateActionElement",o),O.dispatch("editComponent",o),i&&ie(),le.value&&(le.value=!1,se.value=[],ce.value=[])}catch(o){console.error(o),console.log("Cancel Move")}},te=p(),ne=p(),ie=async()=>{await F();const e=z.value.findIndex((e=>{var t;return e.id===(null==(t=te.value)?void 0:t.id)}));~e&&(te.value=z.value[e])},oe=()=>{var e;const n=JSON.parse(JSON.stringify(t.element));(t.isAction?n.componentSetting.actionClickValue.componentSetting.bookmark:n.componentSetting.bookmark)[z.value.findIndex((e=>{var t;return e.id===(null==(t=te.value)?void 0:t.id)}))].children=null==(e=te.value)?void 0:e.children,O.dispatch("editComponent",n)},ae=()=>{te.value=null},le=p(!1),re=p(),se=p([]),ce=p([]),ue=e=>{le.value=!0,re.value=e},de=()=>{le.value=!1,se.value.length=0,ce.value.length=0},fe=e=>{le.value&&(de(),e.preventDefault(),document.oncontextmenu=e=>e.preventDefault())};return $((()=>document.addEventListener("contextmenu",fe))),R((()=>document.removeEventListener("contextmenu",fe))),(t,i)=>(y(),D("div",{class:"wrapper",style:P({fontSize:e.componentSetting.textFontSize+"px",color:e.componentSetting.textColor,padding:e.componentSetting.padding+"px"})},[w("div",{class:"bookmark-wrapper",style:P({maxWidth:`${e.componentSetting.maxWidth||880}px`,pointerEvents:S(s)?"all":"none"})},[x(S(q),{modelValue:S(z),"onUpdate:modelValue":i[1]||(i[1]=e=>J(z)?z.value=e:null),class:"bookmark-draggable-wrapper","item-key":"id"},{item:k((({element:t,index:i})=>[U((y(),D("div",{class:Z(["item",ce.value.includes(t.id)&&"selected"]),onClick:e=>X(t,e)},[w("div",{class:Z(["tile-icon",le.value&&!re.value&&"bounce-icon"]),style:P({background:t.bgColor,boxShadow:e.componentSetting.boxShadow})},["folder"!==t.type?(y(),D(E,{key:0},["network"===t.iconType?(y(),D("img",{key:0,src:t.iconPath,alt:""},null,8,mt)):C("",!0),"text"===t.iconType?(y(),D("div",{key:1,style:P({fontSize:S(f),color:t.iconPath}),class:"no-icon"},N(t.title.slice(0,1)),5)):C("",!0)],64)):(y(),D("svg",{key:1,viewBox:"0 0 1124 1024",width:(S(f)||"32").replace("px",""),height:(S(f)||"32").replace("px","")},gt,8,vt))],6),w("div",yt,N(t.title),1)],10,ht)),[[n,{disabled:()=>le.value,params:{element:t,index:i},menuList:V.value,width:120}]])])),footer:k((()=>[le.value?C("",!0):(y(),D("div",{key:0,class:"item",onClick:i[0]||(i[0]=e=>M())},bt)),(y(),D(E,null,T(20,(e=>w("div",{class:"item fake",key:e}))),64))])),_:1},8,["modelValue"])],4),x(lt,{ref_key:"configDialog",ref:r,boxSize:S(c),boxRadius:S(d),iconSize:S(f),onAdd:j,onEdit:W,onImport:Y},null,8,["boxSize","boxRadius","iconSize"]),x(ft,{ref_key:"moveDialog",ref:K,folderList:S(Q)},null,8,["folderList"]),x(G,{ref_key:"popover",ref:ne,"close-on-click-outside":!1,onClosed:ae},{default:k((()=>[te.value?(y(),D("div",kt,[w("div",wt,N(te.value.title),1),x(S(q),{modelValue:te.value.children,"onUpdate:modelValue":i[3]||(i[3]=e=>te.value.children=e),class:"bookmark-draggable-wrapper","item-key":"id",onEnd:oe},{item:k((({element:t,index:i})=>[U((y(),D("div",{class:Z(["item",ce.value.includes(t.id)&&"selected"]),style:P({width:S(b),height:S(b),padding:S(g)}),onClick:e=>X(t)},[w("div",{class:Z(["tile-icon",le.value&&re.value&&"bounce-icon"]),style:P({background:t.bgColor,boxShadow:e.componentSetting.boxShadow,width:S(c),height:S(c),borderRadius:S(d)})},["folder"!==t.type?(y(),D(E,{key:0},["network"===t.iconType?(y(),D("img",{key:0,style:P({width:S(f),height:S(f)}),src:t.iconPath,alt:""},null,12,St)):C("",!0),"text"===t.iconType?(y(),D("div",{key:1,style:P({fontSize:S(f),color:t.iconPath}),class:"no-icon"},N(t.title.slice(0,1)),5)):C("",!0)],64)):C("",!0)],6),w("div",{class:"tile-title",style:P({fontSize:S(h),color:S(v)})},N(t.title),5)],14,xt)),[[n,{params:{element:t,index:i,parent:te.value},menuList:V.value,width:120}]])])),footer:k((()=>[le.value?C("",!0):(y(),D("div",{key:0,class:"item",style:P({width:S(b),height:S(b),padding:S(g)}),onClick:i[2]||(i[2]=e=>M(te.value))},[w("div",{class:"btn-add-wrapper",style:P({color:S(v),border:`2px dashed ${S(v)}`})},Ct,4)],4)),(y(),D(E,null,T(20,(e=>w("div",{class:"item fake",style:P({width:S(b),padding:`0 ${S(g)}`}),key:e},null,4))),64))])),_:1},8,["modelValue"]),le.value&&re.value?(y(),D("div",Dt,[w("div",{class:"close-btn",onClick:de},Et),w("div",Tt,[w("span",Ot,N(se.value.length),1),Nt]),w("div",zt,[w("div",{class:"move-btn",onClick:i[4]||(i[4]=e=>ee(se.value,!1,te.value))},Pt),w("div",{class:"del-btn",onClick:i[5]||(i[5]=e=>ee(se.value,!0,te.value))},Vt)])])):C("",!0)])):C("",!0)])),_:1},512),le.value&&!re.value?(y(),D("div",_t,[w("div",{class:"close-btn",onClick:de},At),w("div",Lt,[w("span",Mt,N(se.value.length),1),jt]),w("div",Bt,[w("div",{class:"move-btn",onClick:i[6]||(i[6]=e=>ee(se.value))},It),w("div",{class:"del-btn",onClick:i[7]||(i[7]=e=>ee(se.value,!0))},Ht)])])):C("",!0)],4))}}),[["__scopeId","data-v-7bd13a18"]]);export{$t as default};
