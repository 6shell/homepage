import{d as i}from"./index.3986a994.js";function h(r,o="image/png",n,t){return new Promise((c,p)=>{const e=new XMLHttpRequest;e.open("GET",r,!0),e.responseType="arraybuffer",t&&(e.timeout=t),e.onload=()=>{if(e.status===200){const a=new Uint8Array(e.response);let s=a.length;const l=new Array(s);for(;s--;)l[s]=String.fromCharCode(a[s]);const u=l.join(""),d=window.btoa(u),f="data:"+(o||"image/png")+";base64,"+d;c(f)}},e.onerror=a=>{p(a)},e.onprogress=a=>{n&&n(a)},t&&(e.ontimeout=a=>{e.abort(),p(a)}),e.send()})}function y(r,o="redirect",n=!1){let t=`${i}/api/icon?url=${encodeURIComponent(r.replace(/http(s)?:\/\//,""))}`;return o==="source"&&(t+="&type=source"),n&&(t+="&disabledCache=1"),t}async function b(r,o=!1){let n=`${i}/api/icon?url=${encodeURIComponent(r.replace(/http(s)?:\/\//,""))}`;return o&&(n+="&disabledCache=1"),n+="&type=link",await(await fetch(n)).text()}function m(r){return`${i}/api/icon/v2?url=${encodeURIComponent(r.replace(/http(s)?:\/\//,""))}`}export{m as a,h as b,b as c,y as g};
